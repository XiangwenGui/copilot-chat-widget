(function(ve,xe){typeof exports=="object"&&typeof module<"u"?xe(exports):typeof define=="function"&&define.amd?define(["exports"],xe):(ve=typeof globalThis<"u"?globalThis:ve||self,xe(ve.CCWidget={}))})(this,(function(ve){"use strict";var xe=Object.create,Zt=Object.defineProperty,ea=Object.getOwnPropertyDescriptor,ta=Object.getOwnPropertyNames,ra=Object.getPrototypeOf,na=Object.prototype.hasOwnProperty,E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),aa=(e,t)=>{for(var r in t)Zt(e,r,{get:t[r],enumerable:!0})},ia=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ta(t))!na.call(e,i)&&i!==r&&Zt(e,i,{get:()=>t[i],enumerable:!(n=ea(t,i))||n.enumerable});return e},Xe=(e,t,r)=>(r=e!=null?xe(ra(e)):{},ia(!e||!e.__esModule?Zt(r,"default",{value:e,enumerable:!0}):r,e)),sa=E((e,t)=>{var r=1e3,n=r*60,i=n*60,s=i*24,o=s*7,c=s*365.25;t.exports=function(T,l){l=l||{};var w=typeof T;if(w==="string"&&T.length>0)return p(T);if(w==="number"&&isFinite(T))return l.long?v(T):m(T);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(T))};function p(T){if(T=String(T),!(T.length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(T);if(l){var w=parseFloat(l[1]),g=(l[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return w*c;case"weeks":case"week":case"w":return w*o;case"days":case"day":case"d":return w*s;case"hours":case"hour":case"hrs":case"hr":case"h":return w*i;case"minutes":case"minute":case"mins":case"min":case"m":return w*n;case"seconds":case"second":case"secs":case"sec":case"s":return w*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function m(T){var l=Math.abs(T);return l>=s?Math.round(T/s)+"d":l>=i?Math.round(T/i)+"h":l>=n?Math.round(T/n)+"m":l>=r?Math.round(T/r)+"s":T+"ms"}function v(T){var l=Math.abs(T);return l>=s?C(T,l,s,"day"):l>=i?C(T,l,i,"hour"):l>=n?C(T,l,n,"minute"):l>=r?C(T,l,r,"second"):T+" ms"}function C(T,l,w,g){var b=l>=w*1.5;return Math.round(T/w)+" "+g+(b?"s":"")}}),oa=E((e,t)=>{function r(n){s.debug=s,s.default=s,s.coerce=C,s.disable=m,s.enable=c,s.enabled=v,s.humanize=sa(),s.destroy=T,Object.keys(n).forEach(l=>{s[l]=n[l]}),s.names=[],s.skips=[],s.formatters={};function i(l){let w=0;for(let g=0;g<l.length;g++)w=(w<<5)-w+l.charCodeAt(g),w|=0;return s.colors[Math.abs(w)%s.colors.length]}s.selectColor=i;function s(l){let w,g=null,b,_;function y(...x){if(!y.enabled)return;let O=y,L=Number(new Date),D=L-(w||L);O.diff=D,O.prev=w,O.curr=L,w=L,x[0]=s.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let S=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(U,F)=>{if(U==="%%")return"%";S++;let V=s.formatters[F];if(typeof V=="function"){let $=x[S];U=V.call(O,$),x.splice(S,1),S--}return U}),s.formatArgs.call(O,x),(O.log||s.log).apply(O,x)}return y.namespace=l,y.useColors=s.useColors(),y.color=s.selectColor(l),y.extend=o,y.destroy=s.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(b!==s.namespaces&&(b=s.namespaces,_=s.enabled(l)),_),set:x=>{g=x}}),typeof s.init=="function"&&s.init(y),y}function o(l,w){let g=s(this.namespace+(typeof w>"u"?":":w)+l);return g.log=this.log,g}function c(l){s.save(l),s.namespaces=l,s.names=[],s.skips=[];let w=(typeof l=="string"?l:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let g of w)g[0]==="-"?s.skips.push(g.slice(1)):s.names.push(g)}function p(l,w){let g=0,b=0,_=-1,y=0;for(;g<l.length;)if(b<w.length&&(w[b]===l[g]||w[b]==="*"))w[b]==="*"?(_=b,y=g,b++):(g++,b++);else if(_!==-1)b=_+1,y++,g=y;else return!1;for(;b<w.length&&w[b]==="*";)b++;return b===w.length}function m(){let l=[...s.names,...s.skips.map(w=>"-"+w)].join(",");return s.enable(""),l}function v(l){for(let w of s.skips)if(p(l,w))return!1;for(let w of s.names)if(p(l,w))return!0;return!1}function C(l){return l instanceof Error?l.stack||l.message:l}function T(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}t.exports=r}),ua=E((e,t)=>{e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let p;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(p=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(p[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let m="color: "+this.color;p.splice(1,0,m,"color: inherit");let v=0,C=0;p[0].replace(/%[a-zA-Z%]/g,T=>{T!=="%%"&&(v++,T==="%c"&&(C=v))}),p.splice(C,0,m)}e.log=console.debug||console.log||(()=>{});function i(p){try{p?e.storage.setItem("debug",p):e.storage.removeItem("debug")}catch{}}function s(){let p;try{p=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!p&&typeof process<"u"&&"env"in process&&(p=process.env.DEBUG),p}function o(){try{return localStorage}catch{}}t.exports=oa()(e);var{formatters:c}=t.exports;c.j=function(p){try{return JSON.stringify(p)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}}),Qe=E(e=>{var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0,e.debug=s;var r=t(ua()),n=["info","warn","error","debug"],i=class{constructor(o=""){this.loggers={},this.initializeLoggers(o)}initializeLoggers(o){for(let c of n){let p=(0,r.default)(`${o}:${c}`);p.color=this.getPlatformColor(c),this.loggers[c]=p}}getPlatformColor(o){return{node:{info:"2",warn:"3",error:"1",debug:"4"},browser:{info:"#33CC99",warn:"#CCCC33",error:"#CC3366",debug:"#0066FF"}}[typeof window<"u"?"browser":"node"][o]}info(o,...c){this.loggers.info(o,...c)}warn(o,...c){this.loggers.warn(o,...c)}error(o,...c){this.loggers.error(o,...c)}debug(o,...c){this.loggers.debug(o,...c)}};e.Logger=i;function s(o){return new i(o)}}),et=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getParsedType=e.ZodParsedType=e.objectUtil=e.util=void 0;var t;(function(i){i.assertEqual=p=>{};function s(p){}i.assertIs=s;function o(p){throw new Error}i.assertNever=o,i.arrayToEnum=p=>{let m={};for(let v of p)m[v]=v;return m},i.getValidEnumValues=p=>{let m=i.objectKeys(p).filter(C=>typeof p[p[C]]!="number"),v={};for(let C of m)v[C]=p[C];return i.objectValues(v)},i.objectValues=p=>i.objectKeys(p).map(function(m){return p[m]}),i.objectKeys=typeof Object.keys=="function"?p=>Object.keys(p):p=>{let m=[];for(let v in p)Object.prototype.hasOwnProperty.call(p,v)&&m.push(v);return m},i.find=(p,m)=>{for(let v of p)if(m(v))return v},i.isInteger=typeof Number.isInteger=="function"?p=>Number.isInteger(p):p=>typeof p=="number"&&Number.isFinite(p)&&Math.floor(p)===p;function c(p,m=" | "){return p.map(v=>typeof v=="string"?`'${v}'`:v).join(m)}i.joinValues=c,i.jsonStringifyReplacer=(p,m)=>typeof m=="bigint"?m.toString():m})(t||(e.util=t={}));var r;(function(i){i.mergeShapes=(s,o)=>({...s,...o})})(r||(e.objectUtil=r={})),e.ZodParsedType=t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);var n=i=>{switch(typeof i){case"undefined":return e.ZodParsedType.undefined;case"string":return e.ZodParsedType.string;case"number":return Number.isNaN(i)?e.ZodParsedType.nan:e.ZodParsedType.number;case"boolean":return e.ZodParsedType.boolean;case"function":return e.ZodParsedType.function;case"bigint":return e.ZodParsedType.bigint;case"symbol":return e.ZodParsedType.symbol;case"object":return Array.isArray(i)?e.ZodParsedType.array:i===null?e.ZodParsedType.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?e.ZodParsedType.promise:typeof Map<"u"&&i instanceof Map?e.ZodParsedType.map:typeof Set<"u"&&i instanceof Set?e.ZodParsedType.set:typeof Date<"u"&&i instanceof Date?e.ZodParsedType.date:e.ZodParsedType.object;default:return e.ZodParsedType.unknown}};e.getParsedType=n}),kt=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ZodError=e.quotelessJson=e.ZodIssueCode=void 0;var t=et();e.ZodIssueCode=t.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var r=i=>JSON.stringify(i,null,2).replace(/"([^"]+)":/g,"$1:");e.quotelessJson=r;var n=class Wn extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=c=>{this.issues=[...this.issues,c]},this.addIssues=(c=[])=>{this.issues=[...this.issues,...c]};let o=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,o):this.__proto__=o,this.name="ZodError",this.issues=s}format(s){let o=s||function(m){return m.message},c={_errors:[]},p=m=>{for(let v of m.issues)if(v.code==="invalid_union")v.unionErrors.map(p);else if(v.code==="invalid_return_type")p(v.returnTypeError);else if(v.code==="invalid_arguments")p(v.argumentsError);else if(v.path.length===0)c._errors.push(o(v));else{let C=c,T=0;for(;T<v.path.length;){let l=v.path[T];T===v.path.length-1?(C[l]=C[l]||{_errors:[]},C[l]._errors.push(o(v))):C[l]=C[l]||{_errors:[]},C=C[l],T++}}};return p(this),c}static assert(s){if(!(s instanceof Wn))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,t.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=o=>o.message){let o={},c=[];for(let p of this.issues)if(p.path.length>0){let m=p.path[0];o[m]=o[m]||[],o[m].push(s(p))}else c.push(s(p));return{formErrors:c,fieldErrors:o}}get formErrors(){return this.flatten()}};e.ZodError=n,n.create=i=>new n(i)}),mr=E(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=kt(),r=et(),n=(i,s)=>{let o;switch(i.code){case t.ZodIssueCode.invalid_type:i.received===r.ZodParsedType.undefined?o="Required":o=`Expected ${i.expected}, received ${i.received}`;break;case t.ZodIssueCode.invalid_literal:o=`Invalid literal value, expected ${JSON.stringify(i.expected,r.util.jsonStringifyReplacer)}`;break;case t.ZodIssueCode.unrecognized_keys:o=`Unrecognized key(s) in object: ${r.util.joinValues(i.keys,", ")}`;break;case t.ZodIssueCode.invalid_union:o="Invalid input";break;case t.ZodIssueCode.invalid_union_discriminator:o=`Invalid discriminator value. Expected ${r.util.joinValues(i.options)}`;break;case t.ZodIssueCode.invalid_enum_value:o=`Invalid enum value. Expected ${r.util.joinValues(i.options)}, received '${i.received}'`;break;case t.ZodIssueCode.invalid_arguments:o="Invalid function arguments";break;case t.ZodIssueCode.invalid_return_type:o="Invalid function return type";break;case t.ZodIssueCode.invalid_date:o="Invalid date";break;case t.ZodIssueCode.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(o=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(o=`${o} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?o=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?o=`Invalid input: must end with "${i.validation.endsWith}"`:r.util.assertNever(i.validation):i.validation!=="regex"?o=`Invalid ${i.validation}`:o="Invalid";break;case t.ZodIssueCode.too_small:i.type==="array"?o=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?o=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?o=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="bigint"?o=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?o=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:o="Invalid input";break;case t.ZodIssueCode.too_big:i.type==="array"?o=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?o=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?o=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?o=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?o=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:o="Invalid input";break;case t.ZodIssueCode.custom:o="Invalid input";break;case t.ZodIssueCode.invalid_intersection_types:o="Intersection results could not be merged";break;case t.ZodIssueCode.not_multiple_of:o=`Number must be a multiple of ${i.multipleOf}`;break;case t.ZodIssueCode.not_finite:o="Number must be finite";break;default:o=s.defaultError,r.util.assertNever(i)}return{message:o}};e.default=n}),Et=E(e=>{var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultErrorMap=void 0,e.setErrorMap=i,e.getErrorMap=s;var r=t(mr());e.defaultErrorMap=r.default;var n=r.default;function i(o){n=o}function s(){return n}}),vr=E(e=>{var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=e.isValid=e.isDirty=e.isAborted=e.OK=e.DIRTY=e.INVALID=e.ParseStatus=e.EMPTY_PATH=e.makeIssue=void 0,e.addIssueToContext=s;var r=Et(),n=t(mr()),i=l=>{let{data:w,path:g,errorMaps:b,issueData:_}=l,y=[...g,..._.path||[]],x={..._,path:y};if(_.message!==void 0)return{..._,path:y,message:_.message};let O="",L=b.filter(D=>!!D).slice().reverse();for(let D of L)O=D(x,{data:w,defaultError:O}).message;return{..._,path:y,message:O}};e.makeIssue=i,e.EMPTY_PATH=[];function s(l,w){let g=(0,r.getErrorMap)(),b=(0,e.makeIssue)({issueData:w,data:l.data,path:l.path,errorMaps:[l.common.contextualErrorMap,l.schemaErrorMap,g,g===n.default?void 0:n.default].filter(_=>!!_)});l.common.issues.push(b)}var o=class Hn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(w,g){let b=[];for(let _ of g){if(_.status==="aborted")return e.INVALID;_.status==="dirty"&&w.dirty(),b.push(_.value)}return{status:w.value,value:b}}static async mergeObjectAsync(w,g){let b=[];for(let _ of g){let y=await _.key,x=await _.value;b.push({key:y,value:x})}return Hn.mergeObjectSync(w,b)}static mergeObjectSync(w,g){let b={};for(let _ of g){let{key:y,value:x}=_;if(y.status==="aborted"||x.status==="aborted")return e.INVALID;y.status==="dirty"&&w.dirty(),x.status==="dirty"&&w.dirty(),y.value!=="__proto__"&&(typeof x.value<"u"||_.alwaysSet)&&(b[y.value]=x.value)}return{status:w.value,value:b}}};e.ParseStatus=o,e.INVALID=Object.freeze({status:"aborted"});var c=l=>({status:"dirty",value:l});e.DIRTY=c;var p=l=>({status:"valid",value:l});e.OK=p;var m=l=>l.status==="aborted";e.isAborted=m;var v=l=>l.status==="dirty";e.isDirty=v;var C=l=>l.status==="valid";e.isValid=C;var T=l=>typeof Promise<"u"&&l instanceof Promise;e.isAsync=T}),da=E(e=>{Object.defineProperty(e,"__esModule",{value:!0})}),la=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.errorUtil=void 0;var t;(function(r){r.errToObj=n=>typeof n=="string"?{message:n}:n||{},r.toString=n=>typeof n=="string"?n:n?.message})(t||(e.errorUtil=t={}))}),ca=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.discriminatedUnion=e.date=e.boolean=e.bigint=e.array=e.any=e.coerce=e.ZodFirstPartyTypeKind=e.late=e.ZodSchema=e.Schema=e.ZodReadonly=e.ZodPipeline=e.ZodBranded=e.BRAND=e.ZodNaN=e.ZodCatch=e.ZodDefault=e.ZodNullable=e.ZodOptional=e.ZodTransformer=e.ZodEffects=e.ZodPromise=e.ZodNativeEnum=e.ZodEnum=e.ZodLiteral=e.ZodLazy=e.ZodFunction=e.ZodSet=e.ZodMap=e.ZodRecord=e.ZodTuple=e.ZodIntersection=e.ZodDiscriminatedUnion=e.ZodUnion=e.ZodObject=e.ZodArray=e.ZodVoid=e.ZodNever=e.ZodUnknown=e.ZodAny=e.ZodNull=e.ZodUndefined=e.ZodSymbol=e.ZodDate=e.ZodBoolean=e.ZodBigInt=e.ZodNumber=e.ZodString=e.ZodType=void 0,e.NEVER=e.void=e.unknown=e.union=e.undefined=e.tuple=e.transformer=e.symbol=e.string=e.strictObject=e.set=e.record=e.promise=e.preprocess=e.pipeline=e.ostring=e.optional=e.onumber=e.oboolean=e.object=e.number=e.nullable=e.null=e.never=e.nativeEnum=e.nan=e.map=e.literal=e.lazy=e.intersection=e.instanceof=e.function=e.enum=e.effect=void 0,e.datetimeRegex=pe,e.custom=$n;var t=kt(),r=Et(),n=la(),i=vr(),s=et(),o=class{constructor(d,a,u,f){this._cachedPath=[],this.parent=d,this.data=a,this._path=u,this._key=f}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},c=(d,a)=>{if((0,i.isValid)(a))return{success:!0,data:a.value};if(!d.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let u=new t.ZodError(d.common.issues);return this._error=u,this._error}}};function p(d){if(!d)return{};let{errorMap:a,invalid_type_error:u,required_error:f,description:h}=d;if(a&&(u||f))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return a?{errorMap:a,description:h}:{errorMap:(P,A)=>{var Z,k;let{message:R}=d;return P.code==="invalid_enum_value"?{message:R??A.defaultError}:typeof A.data>"u"?{message:(Z=R??f)!=null?Z:A.defaultError}:P.code!=="invalid_type"?{message:A.defaultError}:{message:(k=R??u)!=null?k:A.defaultError}},description:h}}var m=class{get description(){return this._def.description}_getType(d){return(0,s.getParsedType)(d.data)}_getOrReturnCtx(d,a){return a||{common:d.parent.common,data:d.data,parsedType:(0,s.getParsedType)(d.data),schemaErrorMap:this._def.errorMap,path:d.path,parent:d.parent}}_processInputParams(d){return{status:new i.ParseStatus,ctx:{common:d.parent.common,data:d.data,parsedType:(0,s.getParsedType)(d.data),schemaErrorMap:this._def.errorMap,path:d.path,parent:d.parent}}}_parseSync(d){let a=this._parse(d);if((0,i.isAsync)(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(d){let a=this._parse(d);return Promise.resolve(a)}parse(d,a){let u=this.safeParse(d,a);if(u.success)return u.data;throw u.error}safeParse(d,a){var u;let f={common:{issues:[],async:(u=a?.async)!=null?u:!1,contextualErrorMap:a?.errorMap},path:a?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:d,parsedType:(0,s.getParsedType)(d)},h=this._parseSync({data:d,path:f.path,parent:f});return c(f,h)}"~validate"(d){var a,u;let f={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:d,parsedType:(0,s.getParsedType)(d)};if(!this["~standard"].async)try{let h=this._parseSync({data:d,path:[],parent:f});return(0,i.isValid)(h)?{value:h.value}:{issues:f.common.issues}}catch(h){(u=(a=h?.message)==null?void 0:a.toLowerCase())!=null&&u.includes("encountered")&&(this["~standard"].async=!0),f.common={issues:[],async:!0}}return this._parseAsync({data:d,path:[],parent:f}).then(h=>(0,i.isValid)(h)?{value:h.value}:{issues:f.common.issues})}async parseAsync(d,a){let u=await this.safeParseAsync(d,a);if(u.success)return u.data;throw u.error}async safeParseAsync(d,a){let u={common:{issues:[],contextualErrorMap:a?.errorMap,async:!0},path:a?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:d,parsedType:(0,s.getParsedType)(d)},f=this._parse({data:d,path:u.path,parent:u}),h=await((0,i.isAsync)(f)?f:Promise.resolve(f));return c(u,h)}refine(d,a){let u=f=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(f):a;return this._refinement((f,h)=>{let P=d(f),A=()=>h.addIssue({code:t.ZodIssueCode.custom,...u(f)});return typeof Promise<"u"&&P instanceof Promise?P.then(Z=>Z?!0:(A(),!1)):P?!0:(A(),!1)})}refinement(d,a){return this._refinement((u,f)=>d(u)?!0:(f.addIssue(typeof a=="function"?a(u,f):a),!1))}_refinement(d){return new X({schema:this,typeName:j.ZodEffects,effect:{type:"refinement",refinement:d}})}superRefine(d){return this._refinement(d)}constructor(d){this.spa=this.safeParseAsync,this._def=d,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return re.create(this,this._def)}nullable(){return le.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return me.create(this)}promise(){return Te.create(this,this._def)}or(d){return Me.create([this,d],this._def)}and(d){return ze.create(this,d,this._def)}transform(d){return new X({...p(this._def),schema:this,typeName:j.ZodEffects,effect:{type:"transform",transform:d}})}default(d){let a=typeof d=="function"?d:()=>d;return new Ke({...p(this._def),innerType:this,defaultValue:a,typeName:j.ZodDefault})}brand(){return new ur({typeName:j.ZodBranded,type:this,...p(this._def)})}catch(d){let a=typeof d=="function"?d:()=>d;return new We({...p(this._def),innerType:this,catchValue:a,typeName:j.ZodCatch})}describe(d){let a=this.constructor;return new a({...this._def,description:d})}pipe(d){return dr.create(this,d)}readonly(){return He.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};e.ZodType=m,e.Schema=m,e.ZodSchema=m;var v=/^c[^\s-]{8,}$/i,C=/^[0-9a-z]+$/,T=/^[0-9A-HJKMNP-TV-Z]{26}$/i,l=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,w=/^[a-z0-9_-]{21}$/i,g=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,b=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,y="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",x,O=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,L=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,D=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,S=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,U=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,F=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,V="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$=new RegExp(`^${V}$`);function ae(d){let a="[0-5]\\d";d.precision?a=`${a}\\.\\d{${d.precision}}`:d.precision==null&&(a=`${a}(\\.\\d+)?`);let u=d.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${a})${u}`}function sr(d){return new RegExp(`^${ae(d)}$`)}function pe(d){let a=`${V}T${ae(d)}`,u=[];return u.push(d.local?"Z?":"Z"),d.offset&&u.push("([+-]\\d{2}:?\\d{2})"),a=`${a}(${u.join("|")})`,new RegExp(`^${a}$`)}function ro(d,a){return!!((a==="v4"||!a)&&O.test(d)||(a==="v6"||!a)&&D.test(d))}function no(d,a){if(!g.test(d))return!1;try{let[u]=d.split(".");if(!u)return!1;let f=u.replace(/-/g,"+").replace(/_/g,"/").padEnd(u.length+(4-u.length%4)%4,"="),h=JSON.parse(atob(f));return!(typeof h!="object"||h===null||"typ"in h&&h?.typ!=="JWT"||!h.alg||a&&h.alg!==a)}catch{return!1}}function ao(d,a){return!!((a==="v4"||!a)&&L.test(d)||(a==="v6"||!a)&&S.test(d))}var _e=class Ye extends m{_parse(a){if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==s.ZodParsedType.string){let h=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(h,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.string,received:h.parsedType}),i.INVALID}let u=new i.ParseStatus,f;for(let h of this._def.checks)if(h.kind==="min")a.data.length<h.value&&(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),u.dirty());else if(h.kind==="max")a.data.length>h.value&&(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),u.dirty());else if(h.kind==="length"){let P=a.data.length>h.value,A=a.data.length<h.value;(P||A)&&(f=this._getOrReturnCtx(a,f),P?(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}):A&&(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}),u.dirty())}else if(h.kind==="email")_.test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"email",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if(h.kind==="emoji")x||(x=new RegExp(y,"u")),x.test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"emoji",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if(h.kind==="uuid")l.test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"uuid",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if(h.kind==="nanoid")w.test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"nanoid",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if(h.kind==="cuid")v.test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"cuid",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if(h.kind==="cuid2")C.test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"cuid2",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if(h.kind==="ulid")T.test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"ulid",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty());else if(h.kind==="url")try{new URL(a.data)}catch{f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"url",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty()}else h.kind==="regex"?(h.regex.lastIndex=0,h.regex.test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"regex",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty())):h.kind==="trim"?a.data=a.data.trim():h.kind==="includes"?a.data.includes(h.value,h.position)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.invalid_string,validation:{includes:h.value,position:h.position},message:h.message}),u.dirty()):h.kind==="toLowerCase"?a.data=a.data.toLowerCase():h.kind==="toUpperCase"?a.data=a.data.toUpperCase():h.kind==="startsWith"?a.data.startsWith(h.value)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.invalid_string,validation:{startsWith:h.value},message:h.message}),u.dirty()):h.kind==="endsWith"?a.data.endsWith(h.value)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.invalid_string,validation:{endsWith:h.value},message:h.message}),u.dirty()):h.kind==="datetime"?pe(h).test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.invalid_string,validation:"datetime",message:h.message}),u.dirty()):h.kind==="date"?$.test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.invalid_string,validation:"date",message:h.message}),u.dirty()):h.kind==="time"?sr(h).test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.invalid_string,validation:"time",message:h.message}),u.dirty()):h.kind==="duration"?b.test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"duration",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty()):h.kind==="ip"?ro(a.data,h.version)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"ip",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty()):h.kind==="jwt"?no(a.data,h.alg)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"jwt",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty()):h.kind==="cidr"?ao(a.data,h.version)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"cidr",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty()):h.kind==="base64"?U.test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"base64",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty()):h.kind==="base64url"?F.test(a.data)||(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{validation:"base64url",code:t.ZodIssueCode.invalid_string,message:h.message}),u.dirty()):s.util.assertNever(h);return{status:u.value,value:a.data}}_regex(a,u,f){return this.refinement(h=>a.test(h),{validation:u,code:t.ZodIssueCode.invalid_string,...n.errorUtil.errToObj(f)})}_addCheck(a){return new Ye({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...n.errorUtil.errToObj(a)})}url(a){return this._addCheck({kind:"url",...n.errorUtil.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...n.errorUtil.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...n.errorUtil.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...n.errorUtil.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...n.errorUtil.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...n.errorUtil.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...n.errorUtil.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...n.errorUtil.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...n.errorUtil.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...n.errorUtil.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...n.errorUtil.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...n.errorUtil.errToObj(a)})}datetime(a){var u,f;return typeof a=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:typeof a?.precision>"u"?null:a?.precision,offset:(u=a?.offset)!=null?u:!1,local:(f=a?.local)!=null?f:!1,...n.errorUtil.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return typeof a=="string"?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:typeof a?.precision>"u"?null:a?.precision,...n.errorUtil.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...n.errorUtil.errToObj(a)})}regex(a,u){return this._addCheck({kind:"regex",regex:a,...n.errorUtil.errToObj(u)})}includes(a,u){return this._addCheck({kind:"includes",value:a,position:u?.position,...n.errorUtil.errToObj(u?.message)})}startsWith(a,u){return this._addCheck({kind:"startsWith",value:a,...n.errorUtil.errToObj(u)})}endsWith(a,u){return this._addCheck({kind:"endsWith",value:a,...n.errorUtil.errToObj(u)})}min(a,u){return this._addCheck({kind:"min",value:a,...n.errorUtil.errToObj(u)})}max(a,u){return this._addCheck({kind:"max",value:a,...n.errorUtil.errToObj(u)})}length(a,u){return this._addCheck({kind:"length",value:a,...n.errorUtil.errToObj(u)})}nonempty(a){return this.min(1,n.errorUtil.errToObj(a))}trim(){return new Ye({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ye({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ye({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>a.kind==="datetime")}get isDate(){return!!this._def.checks.find(a=>a.kind==="date")}get isTime(){return!!this._def.checks.find(a=>a.kind==="time")}get isDuration(){return!!this._def.checks.find(a=>a.kind==="duration")}get isEmail(){return!!this._def.checks.find(a=>a.kind==="email")}get isURL(){return!!this._def.checks.find(a=>a.kind==="url")}get isEmoji(){return!!this._def.checks.find(a=>a.kind==="emoji")}get isUUID(){return!!this._def.checks.find(a=>a.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(a=>a.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(a=>a.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(a=>a.kind==="cuid2")}get isULID(){return!!this._def.checks.find(a=>a.kind==="ulid")}get isIP(){return!!this._def.checks.find(a=>a.kind==="ip")}get isCIDR(){return!!this._def.checks.find(a=>a.kind==="cidr")}get isBase64(){return!!this._def.checks.find(a=>a.kind==="base64")}get isBase64url(){return!!this._def.checks.find(a=>a.kind==="base64url")}get minLength(){let a=null;for(let u of this._def.checks)u.kind==="min"&&(a===null||u.value>a)&&(a=u.value);return a}get maxLength(){let a=null;for(let u of this._def.checks)u.kind==="max"&&(a===null||u.value<a)&&(a=u.value);return a}};e.ZodString=_e,_e.create=d=>{var a;return new _e({checks:[],typeName:j.ZodString,coerce:(a=d?.coerce)!=null?a:!1,...p(d)})};function io(d,a){let u=(d.toString().split(".")[1]||"").length,f=(a.toString().split(".")[1]||"").length,h=u>f?u:f,P=Number.parseInt(d.toFixed(h).replace(".","")),A=Number.parseInt(a.toFixed(h).replace(".",""));return P%A/10**h}var Ue=class lr extends m{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==s.ZodParsedType.number){let h=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(h,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.number,received:h.parsedType}),i.INVALID}let u,f=new i.ParseStatus;for(let h of this._def.checks)h.kind==="int"?s.util.isInteger(a.data)||(u=this._getOrReturnCtx(a,u),(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:h.message}),f.dirty()):h.kind==="min"?(h.inclusive?a.data<h.value:a.data<=h.value)&&(u=this._getOrReturnCtx(a,u),(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.too_small,minimum:h.value,type:"number",inclusive:h.inclusive,exact:!1,message:h.message}),f.dirty()):h.kind==="max"?(h.inclusive?a.data>h.value:a.data>=h.value)&&(u=this._getOrReturnCtx(a,u),(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.too_big,maximum:h.value,type:"number",inclusive:h.inclusive,exact:!1,message:h.message}),f.dirty()):h.kind==="multipleOf"?io(a.data,h.value)!==0&&(u=this._getOrReturnCtx(a,u),(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.not_multiple_of,multipleOf:h.value,message:h.message}),f.dirty()):h.kind==="finite"?Number.isFinite(a.data)||(u=this._getOrReturnCtx(a,u),(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.not_finite,message:h.message}),f.dirty()):s.util.assertNever(h);return{status:f.value,value:a.data}}gte(a,u){return this.setLimit("min",a,!0,n.errorUtil.toString(u))}gt(a,u){return this.setLimit("min",a,!1,n.errorUtil.toString(u))}lte(a,u){return this.setLimit("max",a,!0,n.errorUtil.toString(u))}lt(a,u){return this.setLimit("max",a,!1,n.errorUtil.toString(u))}setLimit(a,u,f,h){return new lr({...this._def,checks:[...this._def.checks,{kind:a,value:u,inclusive:f,message:n.errorUtil.toString(h)}]})}_addCheck(a){return new lr({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:n.errorUtil.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:n.errorUtil.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:n.errorUtil.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:n.errorUtil.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:n.errorUtil.toString(a)})}multipleOf(a,u){return this._addCheck({kind:"multipleOf",value:a,message:n.errorUtil.toString(u)})}finite(a){return this._addCheck({kind:"finite",message:n.errorUtil.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:n.errorUtil.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:n.errorUtil.toString(a)})}get minValue(){let a=null;for(let u of this._def.checks)u.kind==="min"&&(a===null||u.value>a)&&(a=u.value);return a}get maxValue(){let a=null;for(let u of this._def.checks)u.kind==="max"&&(a===null||u.value<a)&&(a=u.value);return a}get isInt(){return!!this._def.checks.find(a=>a.kind==="int"||a.kind==="multipleOf"&&s.util.isInteger(a.value))}get isFinite(){let a=null,u=null;for(let f of this._def.checks){if(f.kind==="finite"||f.kind==="int"||f.kind==="multipleOf")return!0;f.kind==="min"?(u===null||f.value>u)&&(u=f.value):f.kind==="max"&&(a===null||f.value<a)&&(a=f.value)}return Number.isFinite(u)&&Number.isFinite(a)}};e.ZodNumber=Ue,Ue.create=d=>new Ue({checks:[],typeName:j.ZodNumber,coerce:d?.coerce||!1,...p(d)});var je=class cr extends m{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==s.ZodParsedType.bigint)return this._getInvalidInput(a);let u,f=new i.ParseStatus;for(let h of this._def.checks)h.kind==="min"?(h.inclusive?a.data<h.value:a.data<=h.value)&&(u=this._getOrReturnCtx(a,u),(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.too_small,type:"bigint",minimum:h.value,inclusive:h.inclusive,message:h.message}),f.dirty()):h.kind==="max"?(h.inclusive?a.data>h.value:a.data>=h.value)&&(u=this._getOrReturnCtx(a,u),(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.too_big,type:"bigint",maximum:h.value,inclusive:h.inclusive,message:h.message}),f.dirty()):h.kind==="multipleOf"?a.data%h.value!==BigInt(0)&&(u=this._getOrReturnCtx(a,u),(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.not_multiple_of,multipleOf:h.value,message:h.message}),f.dirty()):s.util.assertNever(h);return{status:f.value,value:a.data}}_getInvalidInput(a){let u=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.bigint,received:u.parsedType}),i.INVALID}gte(a,u){return this.setLimit("min",a,!0,n.errorUtil.toString(u))}gt(a,u){return this.setLimit("min",a,!1,n.errorUtil.toString(u))}lte(a,u){return this.setLimit("max",a,!0,n.errorUtil.toString(u))}lt(a,u){return this.setLimit("max",a,!1,n.errorUtil.toString(u))}setLimit(a,u,f,h){return new cr({...this._def,checks:[...this._def.checks,{kind:a,value:u,inclusive:f,message:n.errorUtil.toString(h)}]})}_addCheck(a){return new cr({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:n.errorUtil.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:n.errorUtil.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:n.errorUtil.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:n.errorUtil.toString(a)})}multipleOf(a,u){return this._addCheck({kind:"multipleOf",value:a,message:n.errorUtil.toString(u)})}get minValue(){let a=null;for(let u of this._def.checks)u.kind==="min"&&(a===null||u.value>a)&&(a=u.value);return a}get maxValue(){let a=null;for(let u of this._def.checks)u.kind==="max"&&(a===null||u.value<a)&&(a=u.value);return a}};e.ZodBigInt=je,je.create=d=>{var a;return new je({checks:[],typeName:j.ZodBigInt,coerce:(a=d?.coerce)!=null?a:!1,...p(d)})};var Ne=class extends m{_parse(d){if(this._def.coerce&&(d.data=!!d.data),this._getType(d)!==s.ZodParsedType.boolean){let a=this._getOrReturnCtx(d);return(0,i.addIssueToContext)(a,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.boolean,received:a.parsedType}),i.INVALID}return(0,i.OK)(d.data)}};e.ZodBoolean=Ne,Ne.create=d=>new Ne({typeName:j.ZodBoolean,coerce:d?.coerce||!1,...p(d)});var De=class Jn extends m{_parse(a){if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==s.ZodParsedType.date){let h=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(h,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.date,received:h.parsedType}),i.INVALID}if(Number.isNaN(a.data.getTime())){let h=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(h,{code:t.ZodIssueCode.invalid_date}),i.INVALID}let u=new i.ParseStatus,f;for(let h of this._def.checks)h.kind==="min"?a.data.getTime()<h.value&&(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.too_small,message:h.message,inclusive:!0,exact:!1,minimum:h.value,type:"date"}),u.dirty()):h.kind==="max"?a.data.getTime()>h.value&&(f=this._getOrReturnCtx(a,f),(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.too_big,message:h.message,inclusive:!0,exact:!1,maximum:h.value,type:"date"}),u.dirty()):s.util.assertNever(h);return{status:u.value,value:new Date(a.data.getTime())}}_addCheck(a){return new Jn({...this._def,checks:[...this._def.checks,a]})}min(a,u){return this._addCheck({kind:"min",value:a.getTime(),message:n.errorUtil.toString(u)})}max(a,u){return this._addCheck({kind:"max",value:a.getTime(),message:n.errorUtil.toString(u)})}get minDate(){let a=null;for(let u of this._def.checks)u.kind==="min"&&(a===null||u.value>a)&&(a=u.value);return a!=null?new Date(a):null}get maxDate(){let a=null;for(let u of this._def.checks)u.kind==="max"&&(a===null||u.value<a)&&(a=u.value);return a!=null?new Date(a):null}};e.ZodDate=De,De.create=d=>new De({checks:[],coerce:d?.coerce||!1,typeName:j.ZodDate,...p(d)});var Tt=class extends m{_parse(d){if(this._getType(d)!==s.ZodParsedType.symbol){let a=this._getOrReturnCtx(d);return(0,i.addIssueToContext)(a,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.symbol,received:a.parsedType}),i.INVALID}return(0,i.OK)(d.data)}};e.ZodSymbol=Tt,Tt.create=d=>new Tt({typeName:j.ZodSymbol,...p(d)});var Le=class extends m{_parse(d){if(this._getType(d)!==s.ZodParsedType.undefined){let a=this._getOrReturnCtx(d);return(0,i.addIssueToContext)(a,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.undefined,received:a.parsedType}),i.INVALID}return(0,i.OK)(d.data)}};e.ZodUndefined=Le,Le.create=d=>new Le({typeName:j.ZodUndefined,...p(d)});var Fe=class extends m{_parse(d){if(this._getType(d)!==s.ZodParsedType.null){let a=this._getOrReturnCtx(d);return(0,i.addIssueToContext)(a,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.null,received:a.parsedType}),i.INVALID}return(0,i.OK)(d.data)}};e.ZodNull=Fe,Fe.create=d=>new Fe({typeName:j.ZodNull,...p(d)});var we=class extends m{constructor(){super(...arguments),this._any=!0}_parse(d){return(0,i.OK)(d.data)}};e.ZodAny=we,we.create=d=>new we({typeName:j.ZodAny,...p(d)});var he=class extends m{constructor(){super(...arguments),this._unknown=!0}_parse(d){return(0,i.OK)(d.data)}};e.ZodUnknown=he,he.create=d=>new he({typeName:j.ZodUnknown,...p(d)});var ie=class extends m{_parse(d){let a=this._getOrReturnCtx(d);return(0,i.addIssueToContext)(a,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.never,received:a.parsedType}),i.INVALID}};e.ZodNever=ie,ie.create=d=>new ie({typeName:j.ZodNever,...p(d)});var It=class extends m{_parse(d){if(this._getType(d)!==s.ZodParsedType.undefined){let a=this._getOrReturnCtx(d);return(0,i.addIssueToContext)(a,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.void,received:a.parsedType}),i.INVALID}return(0,i.OK)(d.data)}};e.ZodVoid=It,It.create=d=>new It({typeName:j.ZodVoid,...p(d)});var me=class St extends m{_parse(a){let{ctx:u,status:f}=this._processInputParams(a),h=this._def;if(u.parsedType!==s.ZodParsedType.array)return(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.array,received:u.parsedType}),i.INVALID;if(h.exactLength!==null){let A=u.data.length>h.exactLength.value,Z=u.data.length<h.exactLength.value;(A||Z)&&((0,i.addIssueToContext)(u,{code:A?t.ZodIssueCode.too_big:t.ZodIssueCode.too_small,minimum:Z?h.exactLength.value:void 0,maximum:A?h.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:h.exactLength.message}),f.dirty())}if(h.minLength!==null&&u.data.length<h.minLength.value&&((0,i.addIssueToContext)(u,{code:t.ZodIssueCode.too_small,minimum:h.minLength.value,type:"array",inclusive:!0,exact:!1,message:h.minLength.message}),f.dirty()),h.maxLength!==null&&u.data.length>h.maxLength.value&&((0,i.addIssueToContext)(u,{code:t.ZodIssueCode.too_big,maximum:h.maxLength.value,type:"array",inclusive:!0,exact:!1,message:h.maxLength.message}),f.dirty()),u.common.async)return Promise.all([...u.data].map((A,Z)=>h.type._parseAsync(new o(u,A,u.path,Z)))).then(A=>i.ParseStatus.mergeArray(f,A));let P=[...u.data].map((A,Z)=>h.type._parseSync(new o(u,A,u.path,Z)));return i.ParseStatus.mergeArray(f,P)}get element(){return this._def.type}min(a,u){return new St({...this._def,minLength:{value:a,message:n.errorUtil.toString(u)}})}max(a,u){return new St({...this._def,maxLength:{value:a,message:n.errorUtil.toString(u)}})}length(a,u){return new St({...this._def,exactLength:{value:a,message:n.errorUtil.toString(u)}})}nonempty(a){return this.min(1,a)}};e.ZodArray=me,me.create=(d,a)=>new me({type:d,minLength:null,maxLength:null,exactLength:null,typeName:j.ZodArray,...p(a)});function Ce(d){if(d instanceof J){let a={};for(let u in d.shape){let f=d.shape[u];a[u]=re.create(Ce(f))}return new J({...d._def,shape:()=>a})}else return d instanceof me?new me({...d._def,type:Ce(d.element)}):d instanceof re?re.create(Ce(d.unwrap())):d instanceof le?le.create(Ce(d.unwrap())):d instanceof de?de.create(d.items.map(a=>Ce(a))):d}var J=class ee extends m{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let a=this._def.shape(),u=s.util.objectKeys(a);return this._cached={shape:a,keys:u},this._cached}_parse(a){if(this._getType(a)!==s.ZodParsedType.object){let k=this._getOrReturnCtx(a);return(0,i.addIssueToContext)(k,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.object,received:k.parsedType}),i.INVALID}let{status:u,ctx:f}=this._processInputParams(a),{shape:h,keys:P}=this._getCached(),A=[];if(!(this._def.catchall instanceof ie&&this._def.unknownKeys==="strip"))for(let k in f.data)P.includes(k)||A.push(k);let Z=[];for(let k of P){let R=h[k],q=f.data[k];Z.push({key:{status:"valid",value:k},value:R._parse(new o(f,q,f.path,k)),alwaysSet:k in f.data})}if(this._def.catchall instanceof ie){let k=this._def.unknownKeys;if(k==="passthrough")for(let R of A)Z.push({key:{status:"valid",value:R},value:{status:"valid",value:f.data[R]}});else if(k==="strict")A.length>0&&((0,i.addIssueToContext)(f,{code:t.ZodIssueCode.unrecognized_keys,keys:A}),u.dirty());else if(k!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let k=this._def.catchall;for(let R of A){let q=f.data[R];Z.push({key:{status:"valid",value:R},value:k._parse(new o(f,q,f.path,R)),alwaysSet:R in f.data})}}return f.common.async?Promise.resolve().then(async()=>{let k=[];for(let R of Z){let q=await R.key,Q=await R.value;k.push({key:q,value:Q,alwaysSet:R.alwaysSet})}return k}).then(k=>i.ParseStatus.mergeObjectSync(u,k)):i.ParseStatus.mergeObjectSync(u,Z)}get shape(){return this._def.shape()}strict(a){return n.errorUtil.errToObj,new ee({...this._def,unknownKeys:"strict",...a!==void 0?{errorMap:(u,f)=>{var h,P,A,Z;let k=(A=(P=(h=this._def).errorMap)==null?void 0:P.call(h,u,f).message)!=null?A:f.defaultError;return u.code==="unrecognized_keys"?{message:(Z=n.errorUtil.errToObj(a).message)!=null?Z:k}:{message:k}}}:{}})}strip(){return new ee({...this._def,unknownKeys:"strip"})}passthrough(){return new ee({...this._def,unknownKeys:"passthrough"})}extend(a){return new ee({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new ee({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:j.ZodObject})}setKey(a,u){return this.augment({[a]:u})}catchall(a){return new ee({...this._def,catchall:a})}pick(a){let u={};for(let f of s.util.objectKeys(a))a[f]&&this.shape[f]&&(u[f]=this.shape[f]);return new ee({...this._def,shape:()=>u})}omit(a){let u={};for(let f of s.util.objectKeys(this.shape))a[f]||(u[f]=this.shape[f]);return new ee({...this._def,shape:()=>u})}deepPartial(){return Ce(this)}partial(a){let u={};for(let f of s.util.objectKeys(this.shape)){let h=this.shape[f];a&&!a[f]?u[f]=h:u[f]=h.optional()}return new ee({...this._def,shape:()=>u})}required(a){let u={};for(let f of s.util.objectKeys(this.shape))if(a&&!a[f])u[f]=this.shape[f];else{let h=this.shape[f];for(;h instanceof re;)h=h._def.innerType;u[f]=h}return new ee({...this._def,shape:()=>u})}keyof(){return Mn(s.util.objectKeys(this.shape))}};e.ZodObject=J,J.create=(d,a)=>new J({shape:()=>d,unknownKeys:"strip",catchall:ie.create(),typeName:j.ZodObject,...p(a)}),J.strictCreate=(d,a)=>new J({shape:()=>d,unknownKeys:"strict",catchall:ie.create(),typeName:j.ZodObject,...p(a)}),J.lazycreate=(d,a)=>new J({shape:d,unknownKeys:"strip",catchall:ie.create(),typeName:j.ZodObject,...p(a)});var Me=class extends m{_parse(d){let{ctx:a}=this._processInputParams(d),u=this._def.options;function f(h){for(let A of h)if(A.result.status==="valid")return A.result;for(let A of h)if(A.result.status==="dirty")return a.common.issues.push(...A.ctx.common.issues),A.result;let P=h.map(A=>new t.ZodError(A.ctx.common.issues));return(0,i.addIssueToContext)(a,{code:t.ZodIssueCode.invalid_union,unionErrors:P}),i.INVALID}if(a.common.async)return Promise.all(u.map(async h=>{let P={...a,common:{...a.common,issues:[]},parent:null};return{result:await h._parseAsync({data:a.data,path:a.path,parent:P}),ctx:P}})).then(f);{let h,P=[];for(let Z of u){let k={...a,common:{...a.common,issues:[]},parent:null},R=Z._parseSync({data:a.data,path:a.path,parent:k});if(R.status==="valid")return R;R.status==="dirty"&&!h&&(h={result:R,ctx:k}),k.common.issues.length&&P.push(k.common.issues)}if(h)return a.common.issues.push(...h.ctx.common.issues),h.result;let A=P.map(Z=>new t.ZodError(Z));return(0,i.addIssueToContext)(a,{code:t.ZodIssueCode.invalid_union,unionErrors:A}),i.INVALID}}get options(){return this._def.options}};e.ZodUnion=Me,Me.create=(d,a)=>new Me({options:d,typeName:j.ZodUnion,...p(a)});var ue=d=>d instanceof $e?ue(d.schema):d instanceof X?ue(d.innerType()):d instanceof Ve?[d.value]:d instanceof Be?d.options:d instanceof qe?s.util.objectValues(d.enum):d instanceof Ke?ue(d._def.innerType):d instanceof Le?[void 0]:d instanceof Fe?[null]:d instanceof re?[void 0,...ue(d.unwrap())]:d instanceof le?[null,...ue(d.unwrap())]:d instanceof ur||d instanceof He?ue(d.unwrap()):d instanceof We?ue(d._def.innerType):[],Dn=class Yn extends m{_parse(a){let{ctx:u}=this._processInputParams(a);if(u.parsedType!==s.ZodParsedType.object)return(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.object,received:u.parsedType}),i.INVALID;let f=this.discriminator,h=u.data[f],P=this.optionsMap.get(h);return P?u.common.async?P._parseAsync({data:u.data,path:u.path,parent:u}):P._parseSync({data:u.data,path:u.path,parent:u}):((0,i.addIssueToContext)(u,{code:t.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[f]}),i.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,u,f){let h=new Map;for(let P of u){let A=ue(P.shape[a]);if(!A.length)throw new Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let Z of A){if(h.has(Z))throw new Error(`Discriminator property ${String(a)} has duplicate value ${String(Z)}`);h.set(Z,P)}}return new Yn({typeName:j.ZodDiscriminatedUnion,discriminator:a,options:u,optionsMap:h,...p(f)})}};e.ZodDiscriminatedUnion=Dn;function or(d,a){let u=(0,s.getParsedType)(d),f=(0,s.getParsedType)(a);if(d===a)return{valid:!0,data:d};if(u===s.ZodParsedType.object&&f===s.ZodParsedType.object){let h=s.util.objectKeys(a),P=s.util.objectKeys(d).filter(Z=>h.indexOf(Z)!==-1),A={...d,...a};for(let Z of P){let k=or(d[Z],a[Z]);if(!k.valid)return{valid:!1};A[Z]=k.data}return{valid:!0,data:A}}else if(u===s.ZodParsedType.array&&f===s.ZodParsedType.array){if(d.length!==a.length)return{valid:!1};let h=[];for(let P=0;P<d.length;P++){let A=d[P],Z=a[P],k=or(A,Z);if(!k.valid)return{valid:!1};h.push(k.data)}return{valid:!0,data:h}}else return u===s.ZodParsedType.date&&f===s.ZodParsedType.date&&+d==+a?{valid:!0,data:d}:{valid:!1}}var ze=class extends m{_parse(d){let{status:a,ctx:u}=this._processInputParams(d),f=(h,P)=>{if((0,i.isAborted)(h)||(0,i.isAborted)(P))return i.INVALID;let A=or(h.value,P.value);return A.valid?(((0,i.isDirty)(h)||(0,i.isDirty)(P))&&a.dirty(),{status:a.value,value:A.data}):((0,i.addIssueToContext)(u,{code:t.ZodIssueCode.invalid_intersection_types}),i.INVALID)};return u.common.async?Promise.all([this._def.left._parseAsync({data:u.data,path:u.path,parent:u}),this._def.right._parseAsync({data:u.data,path:u.path,parent:u})]).then(([h,P])=>f(h,P)):f(this._def.left._parseSync({data:u.data,path:u.path,parent:u}),this._def.right._parseSync({data:u.data,path:u.path,parent:u}))}};e.ZodIntersection=ze,ze.create=(d,a,u)=>new ze({left:d,right:a,typeName:j.ZodIntersection,...p(u)});var de=class Gn extends m{_parse(a){let{status:u,ctx:f}=this._processInputParams(a);if(f.parsedType!==s.ZodParsedType.array)return(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.array,received:f.parsedType}),i.INVALID;if(f.data.length<this._def.items.length)return(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.INVALID;!this._def.rest&&f.data.length>this._def.items.length&&((0,i.addIssueToContext)(f,{code:t.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),u.dirty());let h=[...f.data].map((P,A)=>{let Z=this._def.items[A]||this._def.rest;return Z?Z._parse(new o(f,P,f.path,A)):null}).filter(P=>!!P);return f.common.async?Promise.all(h).then(P=>i.ParseStatus.mergeArray(u,P)):i.ParseStatus.mergeArray(u,h)}get items(){return this._def.items}rest(a){return new Gn({...this._def,rest:a})}};e.ZodTuple=de,de.create=(d,a)=>{if(!Array.isArray(d))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new de({items:d,typeName:j.ZodTuple,rest:null,...p(a)})};var Ln=class fr extends m{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:u,ctx:f}=this._processInputParams(a);if(f.parsedType!==s.ZodParsedType.object)return(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.object,received:f.parsedType}),i.INVALID;let h=[],P=this._def.keyType,A=this._def.valueType;for(let Z in f.data)h.push({key:P._parse(new o(f,Z,f.path,Z)),value:A._parse(new o(f,f.data[Z],f.path,Z)),alwaysSet:Z in f.data});return f.common.async?i.ParseStatus.mergeObjectAsync(u,h):i.ParseStatus.mergeObjectSync(u,h)}get element(){return this._def.valueType}static create(a,u,f){return u instanceof m?new fr({keyType:a,valueType:u,typeName:j.ZodRecord,...p(f)}):new fr({keyType:_e.create(),valueType:a,typeName:j.ZodRecord,...p(u)})}};e.ZodRecord=Ln;var xt=class extends m{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(d){let{status:a,ctx:u}=this._processInputParams(d);if(u.parsedType!==s.ZodParsedType.map)return(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.map,received:u.parsedType}),i.INVALID;let f=this._def.keyType,h=this._def.valueType,P=[...u.data.entries()].map(([A,Z],k)=>({key:f._parse(new o(u,A,u.path,[k,"key"])),value:h._parse(new o(u,Z,u.path,[k,"value"]))}));if(u.common.async){let A=new Map;return Promise.resolve().then(async()=>{for(let Z of P){let k=await Z.key,R=await Z.value;if(k.status==="aborted"||R.status==="aborted")return i.INVALID;(k.status==="dirty"||R.status==="dirty")&&a.dirty(),A.set(k.value,R.value)}return{status:a.value,value:A}})}else{let A=new Map;for(let Z of P){let k=Z.key,R=Z.value;if(k.status==="aborted"||R.status==="aborted")return i.INVALID;(k.status==="dirty"||R.status==="dirty")&&a.dirty(),A.set(k.value,R.value)}return{status:a.value,value:A}}}};e.ZodMap=xt,xt.create=(d,a,u)=>new xt({valueType:a,keyType:d,typeName:j.ZodMap,...p(u)});var At=class pr extends m{_parse(a){let{status:u,ctx:f}=this._processInputParams(a);if(f.parsedType!==s.ZodParsedType.set)return(0,i.addIssueToContext)(f,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.set,received:f.parsedType}),i.INVALID;let h=this._def;h.minSize!==null&&f.data.size<h.minSize.value&&((0,i.addIssueToContext)(f,{code:t.ZodIssueCode.too_small,minimum:h.minSize.value,type:"set",inclusive:!0,exact:!1,message:h.minSize.message}),u.dirty()),h.maxSize!==null&&f.data.size>h.maxSize.value&&((0,i.addIssueToContext)(f,{code:t.ZodIssueCode.too_big,maximum:h.maxSize.value,type:"set",inclusive:!0,exact:!1,message:h.maxSize.message}),u.dirty());let P=this._def.valueType;function A(k){let R=new Set;for(let q of k){if(q.status==="aborted")return i.INVALID;q.status==="dirty"&&u.dirty(),R.add(q.value)}return{status:u.value,value:R}}let Z=[...f.data.values()].map((k,R)=>P._parse(new o(f,k,f.path,R)));return f.common.async?Promise.all(Z).then(k=>A(k)):A(Z)}min(a,u){return new pr({...this._def,minSize:{value:a,message:n.errorUtil.toString(u)}})}max(a,u){return new pr({...this._def,maxSize:{value:a,message:n.errorUtil.toString(u)}})}size(a,u){return this.min(a,u).max(a,u)}nonempty(a){return this.min(1,a)}};e.ZodSet=At,At.create=(d,a)=>new At({valueType:d,minSize:null,maxSize:null,typeName:j.ZodSet,...p(a)});var Fn=class Pt extends m{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:u}=this._processInputParams(a);if(u.parsedType!==s.ZodParsedType.function)return(0,i.addIssueToContext)(u,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.function,received:u.parsedType}),i.INVALID;function f(Z,k){return(0,i.makeIssue)({data:Z,path:u.path,errorMaps:[u.common.contextualErrorMap,u.schemaErrorMap,(0,r.getErrorMap)(),r.defaultErrorMap].filter(R=>!!R),issueData:{code:t.ZodIssueCode.invalid_arguments,argumentsError:k}})}function h(Z,k){return(0,i.makeIssue)({data:Z,path:u.path,errorMaps:[u.common.contextualErrorMap,u.schemaErrorMap,(0,r.getErrorMap)(),r.defaultErrorMap].filter(R=>!!R),issueData:{code:t.ZodIssueCode.invalid_return_type,returnTypeError:k}})}let P={errorMap:u.common.contextualErrorMap},A=u.data;if(this._def.returns instanceof Te){let Z=this;return(0,i.OK)(async function(...k){let R=new t.ZodError([]),q=await Z._def.args.parseAsync(k,P).catch(Je=>{throw R.addIssue(f(k,Je)),R}),Q=await Reflect.apply(A,this,q);return await Z._def.returns._def.type.parseAsync(Q,P).catch(Je=>{throw R.addIssue(h(Q,Je)),R})})}else{let Z=this;return(0,i.OK)(function(...k){let R=Z._def.args.safeParse(k,P);if(!R.success)throw new t.ZodError([f(k,R.error)]);let q=Reflect.apply(A,this,R.data),Q=Z._def.returns.safeParse(q,P);if(!Q.success)throw new t.ZodError([h(q,Q.error)]);return Q.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new Pt({...this._def,args:de.create(a).rest(he.create())})}returns(a){return new Pt({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,u,f){return new Pt({args:a||de.create([]).rest(he.create()),returns:u||he.create(),typeName:j.ZodFunction,...p(f)})}};e.ZodFunction=Fn;var $e=class extends m{get schema(){return this._def.getter()}_parse(d){let{ctx:a}=this._processInputParams(d);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}};e.ZodLazy=$e,$e.create=(d,a)=>new $e({getter:d,typeName:j.ZodLazy,...p(a)});var Ve=class extends m{_parse(d){if(d.data!==this._def.value){let a=this._getOrReturnCtx(d);return(0,i.addIssueToContext)(a,{received:a.data,code:t.ZodIssueCode.invalid_literal,expected:this._def.value}),i.INVALID}return{status:"valid",value:d.data}}get value(){return this._def.value}};e.ZodLiteral=Ve,Ve.create=(d,a)=>new Ve({value:d,typeName:j.ZodLiteral,...p(a)});function Mn(d,a){return new Be({values:d,typeName:j.ZodEnum,...p(a)})}var Be=class hr extends m{_parse(a){if(typeof a.data!="string"){let u=this._getOrReturnCtx(a),f=this._def.values;return(0,i.addIssueToContext)(u,{expected:s.util.joinValues(f),received:u.parsedType,code:t.ZodIssueCode.invalid_type}),i.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let u=this._getOrReturnCtx(a),f=this._def.values;return(0,i.addIssueToContext)(u,{received:u.data,code:t.ZodIssueCode.invalid_enum_value,options:f}),i.INVALID}return(0,i.OK)(a.data)}get options(){return this._def.values}get enum(){let a={};for(let u of this._def.values)a[u]=u;return a}get Values(){let a={};for(let u of this._def.values)a[u]=u;return a}get Enum(){let a={};for(let u of this._def.values)a[u]=u;return a}extract(a,u=this._def){return hr.create(a,{...this._def,...u})}exclude(a,u=this._def){return hr.create(this.options.filter(f=>!a.includes(f)),{...this._def,...u})}};e.ZodEnum=Be,Be.create=Mn;var qe=class extends m{_parse(d){let a=s.util.getValidEnumValues(this._def.values),u=this._getOrReturnCtx(d);if(u.parsedType!==s.ZodParsedType.string&&u.parsedType!==s.ZodParsedType.number){let f=s.util.objectValues(a);return(0,i.addIssueToContext)(u,{expected:s.util.joinValues(f),received:u.parsedType,code:t.ZodIssueCode.invalid_type}),i.INVALID}if(this._cache||(this._cache=new Set(s.util.getValidEnumValues(this._def.values))),!this._cache.has(d.data)){let f=s.util.objectValues(a);return(0,i.addIssueToContext)(u,{received:u.data,code:t.ZodIssueCode.invalid_enum_value,options:f}),i.INVALID}return(0,i.OK)(d.data)}get enum(){return this._def.values}};e.ZodNativeEnum=qe,qe.create=(d,a)=>new qe({values:d,typeName:j.ZodNativeEnum,...p(a)});var Te=class extends m{unwrap(){return this._def.type}_parse(d){let{ctx:a}=this._processInputParams(d);if(a.parsedType!==s.ZodParsedType.promise&&a.common.async===!1)return(0,i.addIssueToContext)(a,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.promise,received:a.parsedType}),i.INVALID;let u=a.parsedType===s.ZodParsedType.promise?a.data:Promise.resolve(a.data);return(0,i.OK)(u.then(f=>this._def.type.parseAsync(f,{path:a.path,errorMap:a.common.contextualErrorMap})))}};e.ZodPromise=Te,Te.create=(d,a)=>new Te({type:d,typeName:j.ZodPromise,...p(a)});var X=class extends m{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===j.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(d){let{status:a,ctx:u}=this._processInputParams(d),f=this._def.effect||null,h={addIssue:P=>{(0,i.addIssueToContext)(u,P),P.fatal?a.abort():a.dirty()},get path(){return u.path}};if(h.addIssue=h.addIssue.bind(h),f.type==="preprocess"){let P=f.transform(u.data,h);if(u.common.async)return Promise.resolve(P).then(async A=>{if(a.value==="aborted")return i.INVALID;let Z=await this._def.schema._parseAsync({data:A,path:u.path,parent:u});return Z.status==="aborted"?i.INVALID:Z.status==="dirty"||a.value==="dirty"?(0,i.DIRTY)(Z.value):Z});{if(a.value==="aborted")return i.INVALID;let A=this._def.schema._parseSync({data:P,path:u.path,parent:u});return A.status==="aborted"?i.INVALID:A.status==="dirty"||a.value==="dirty"?(0,i.DIRTY)(A.value):A}}if(f.type==="refinement"){let P=A=>{let Z=f.refinement(A,h);if(u.common.async)return Promise.resolve(Z);if(Z instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return A};if(u.common.async===!1){let A=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});return A.status==="aborted"?i.INVALID:(A.status==="dirty"&&a.dirty(),P(A.value),{status:a.value,value:A.value})}else return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then(A=>A.status==="aborted"?i.INVALID:(A.status==="dirty"&&a.dirty(),P(A.value).then(()=>({status:a.value,value:A.value}))))}if(f.type==="transform")if(u.common.async===!1){let P=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});if(!(0,i.isValid)(P))return i.INVALID;let A=f.transform(P.value,h);if(A instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:A}}else return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then(P=>(0,i.isValid)(P)?Promise.resolve(f.transform(P.value,h)).then(A=>({status:a.value,value:A})):i.INVALID);s.util.assertNever(f)}};e.ZodEffects=X,e.ZodTransformer=X,X.create=(d,a,u)=>new X({schema:d,typeName:j.ZodEffects,effect:a,...p(u)}),X.createWithPreprocess=(d,a,u)=>new X({schema:a,effect:{type:"preprocess",transform:d},typeName:j.ZodEffects,...p(u)});var re=class extends m{_parse(d){return this._getType(d)===s.ZodParsedType.undefined?(0,i.OK)(void 0):this._def.innerType._parse(d)}unwrap(){return this._def.innerType}};e.ZodOptional=re,re.create=(d,a)=>new re({innerType:d,typeName:j.ZodOptional,...p(a)});var le=class extends m{_parse(d){return this._getType(d)===s.ZodParsedType.null?(0,i.OK)(null):this._def.innerType._parse(d)}unwrap(){return this._def.innerType}};e.ZodNullable=le,le.create=(d,a)=>new le({innerType:d,typeName:j.ZodNullable,...p(a)});var Ke=class extends m{_parse(d){let{ctx:a}=this._processInputParams(d),u=a.data;return a.parsedType===s.ZodParsedType.undefined&&(u=this._def.defaultValue()),this._def.innerType._parse({data:u,path:a.path,parent:a})}removeDefault(){return this._def.innerType}};e.ZodDefault=Ke,Ke.create=(d,a)=>new Ke({innerType:d,typeName:j.ZodDefault,defaultValue:typeof a.default=="function"?a.default:()=>a.default,...p(a)});var We=class extends m{_parse(d){let{ctx:a}=this._processInputParams(d),u={...a,common:{...a.common,issues:[]}},f=this._def.innerType._parse({data:u.data,path:u.path,parent:{...u}});return(0,i.isAsync)(f)?f.then(h=>({status:"valid",value:h.status==="valid"?h.value:this._def.catchValue({get error(){return new t.ZodError(u.common.issues)},input:u.data})})):{status:"valid",value:f.status==="valid"?f.value:this._def.catchValue({get error(){return new t.ZodError(u.common.issues)},input:u.data})}}removeCatch(){return this._def.innerType}};e.ZodCatch=We,We.create=(d,a)=>new We({innerType:d,typeName:j.ZodCatch,catchValue:typeof a.catch=="function"?a.catch:()=>a.catch,...p(a)});var Ot=class extends m{_parse(d){if(this._getType(d)!==s.ZodParsedType.nan){let a=this._getOrReturnCtx(d);return(0,i.addIssueToContext)(a,{code:t.ZodIssueCode.invalid_type,expected:s.ZodParsedType.nan,received:a.parsedType}),i.INVALID}return{status:"valid",value:d.data}}};e.ZodNaN=Ot,Ot.create=d=>new Ot({typeName:j.ZodNaN,...p(d)}),e.BRAND=Symbol("zod_brand");var ur=class extends m{_parse(d){let{ctx:a}=this._processInputParams(d),u=a.data;return this._def.type._parse({data:u,path:a.path,parent:a})}unwrap(){return this._def.type}};e.ZodBranded=ur;var dr=class Xn extends m{_parse(a){let{status:u,ctx:f}=this._processInputParams(a);if(f.common.async)return(async()=>{let h=await this._def.in._parseAsync({data:f.data,path:f.path,parent:f});return h.status==="aborted"?i.INVALID:h.status==="dirty"?(u.dirty(),(0,i.DIRTY)(h.value)):this._def.out._parseAsync({data:h.value,path:f.path,parent:f})})();{let h=this._def.in._parseSync({data:f.data,path:f.path,parent:f});return h.status==="aborted"?i.INVALID:h.status==="dirty"?(u.dirty(),{status:"dirty",value:h.value}):this._def.out._parseSync({data:h.value,path:f.path,parent:f})}}static create(a,u){return new Xn({in:a,out:u,typeName:j.ZodPipeline})}};e.ZodPipeline=dr;var He=class extends m{_parse(d){let a=this._def.innerType._parse(d),u=f=>((0,i.isValid)(f)&&(f.value=Object.freeze(f.value)),f);return(0,i.isAsync)(a)?a.then(f=>u(f)):u(a)}unwrap(){return this._def.innerType}};e.ZodReadonly=He,He.create=(d,a)=>new He({innerType:d,typeName:j.ZodReadonly,...p(a)});function zn(d,a){let u=typeof d=="function"?d(a):typeof d=="string"?{message:d}:d;return typeof u=="string"?{message:u}:u}function $n(d,a={},u){return d?we.create().superRefine((f,h)=>{var P,A;let Z=d(f);if(Z instanceof Promise)return Z.then(k=>{var R,q;if(!k){let Q=zn(a,f),Je=(q=(R=Q.fatal)!=null?R:u)!=null?q:!0;h.addIssue({code:"custom",...Q,fatal:Je})}});if(!Z){let k=zn(a,f),R=(A=(P=k.fatal)!=null?P:u)!=null?A:!0;h.addIssue({code:"custom",...k,fatal:R})}}):we.create()}e.late={object:J.lazycreate};var j;(function(d){d.ZodString="ZodString",d.ZodNumber="ZodNumber",d.ZodNaN="ZodNaN",d.ZodBigInt="ZodBigInt",d.ZodBoolean="ZodBoolean",d.ZodDate="ZodDate",d.ZodSymbol="ZodSymbol",d.ZodUndefined="ZodUndefined",d.ZodNull="ZodNull",d.ZodAny="ZodAny",d.ZodUnknown="ZodUnknown",d.ZodNever="ZodNever",d.ZodVoid="ZodVoid",d.ZodArray="ZodArray",d.ZodObject="ZodObject",d.ZodUnion="ZodUnion",d.ZodDiscriminatedUnion="ZodDiscriminatedUnion",d.ZodIntersection="ZodIntersection",d.ZodTuple="ZodTuple",d.ZodRecord="ZodRecord",d.ZodMap="ZodMap",d.ZodSet="ZodSet",d.ZodFunction="ZodFunction",d.ZodLazy="ZodLazy",d.ZodLiteral="ZodLiteral",d.ZodEnum="ZodEnum",d.ZodEffects="ZodEffects",d.ZodNativeEnum="ZodNativeEnum",d.ZodOptional="ZodOptional",d.ZodNullable="ZodNullable",d.ZodDefault="ZodDefault",d.ZodCatch="ZodCatch",d.ZodPromise="ZodPromise",d.ZodBranded="ZodBranded",d.ZodPipeline="ZodPipeline",d.ZodReadonly="ZodReadonly"})(j||(e.ZodFirstPartyTypeKind=j={}));var so=(d,a={message:`Input not instance of ${d.name}`})=>$n(u=>u instanceof d,a);e.instanceof=so;var Vn=_e.create;e.string=Vn;var Bn=Ue.create;e.number=Bn;var oo=Ot.create;e.nan=oo;var uo=je.create;e.bigint=uo;var qn=Ne.create;e.boolean=qn;var lo=De.create;e.date=lo;var co=Tt.create;e.symbol=co;var fo=Le.create;e.undefined=fo;var po=Fe.create;e.null=po;var ho=we.create;e.any=ho;var mo=he.create;e.unknown=mo;var vo=ie.create;e.never=vo;var yo=It.create;e.void=yo;var go=me.create;e.array=go;var bo=J.create;e.object=bo;var _o=J.strictCreate;e.strictObject=_o;var wo=Me.create;e.union=wo;var Co=Dn.create;e.discriminatedUnion=Co;var To=ze.create;e.intersection=To;var Io=de.create;e.tuple=Io;var xo=Ln.create;e.record=xo;var Ao=xt.create;e.map=Ao;var Oo=At.create;e.set=Oo;var So=Fn.create;e.function=So;var Po=$e.create;e.lazy=Po;var Zo=Ve.create;e.literal=Zo;var ko=Be.create;e.enum=ko;var Eo=qe.create;e.nativeEnum=Eo;var Ro=Te.create;e.promise=Ro;var Kn=X.create;e.effect=Kn,e.transformer=Kn;var Uo=re.create;e.optional=Uo;var jo=le.create;e.nullable=jo;var No=X.createWithPreprocess;e.preprocess=No;var Do=dr.create;e.pipeline=Do;var Lo=()=>Vn().optional();e.ostring=Lo;var Fo=()=>Bn().optional();e.onumber=Fo;var Mo=()=>qn().optional();e.oboolean=Mo,e.coerce={string:(d=>_e.create({...d,coerce:!0})),number:(d=>Ue.create({...d,coerce:!0})),boolean:(d=>Ne.create({...d,coerce:!0})),bigint:(d=>je.create({...d,coerce:!0})),date:(d=>De.create({...d,coerce:!0}))},e.NEVER=i.INVALID}),yr=E(e=>{var t=e&&e.__createBinding||(Object.create?(function(n,i,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(i,s);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,c)}):(function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]})),r=e&&e.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Et(),e),r(vr(),e),r(da(),e),r(et(),e),r(ca(),e),r(kt(),e)}),M=E(e=>{var t=e&&e.__createBinding||(Object.create?(function(o,c,p,m){m===void 0&&(m=p);var v=Object.getOwnPropertyDescriptor(c,p);(!v||("get"in v?!c.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return c[p]}}),Object.defineProperty(o,m,v)}):(function(o,c,p,m){m===void 0&&(m=p),o[m]=c[p]})),r=e&&e.__setModuleDefault||(Object.create?(function(o,c){Object.defineProperty(o,"default",{enumerable:!0,value:c})}):function(o,c){o.default=c}),n=e&&e.__importStar||function(o){if(o&&o.__esModule)return o;var c={};if(o!=null)for(var p in o)p!=="default"&&Object.prototype.hasOwnProperty.call(o,p)&&t(c,o,p);return r(c,o),c},i=e&&e.__exportStar||function(o,c){for(var p in o)p!=="default"&&!Object.prototype.hasOwnProperty.call(c,p)&&t(c,o,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.z=void 0;var s=n(yr());e.z=s,i(yr(),e),e.default=s}),gr=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.actionTypesZodSchema=e.ActionTypes=void 0;var t=M(),r;(function(n){n.OpenUrl="openUrl",n.ImBack="imBack",n.PostBack="postBack",n.PlayAudio="playAudio",n.PlayVideo="playVideo",n.ShowImage="showImage",n.DownloadFile="downloadFile",n.Signin="signin",n.Call="call",n.MessageBack="messageBack",n.OpenApp="openApp"})(r||(e.ActionTypes=r={})),e.actionTypesZodSchema=t.z.enum(["openUrl","imBack","postBack","playAudio","showImage","downloadFile","signin","call","messageBack","openApp"])}),br=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.semanticActionStateTypesZodSchema=e.SemanticActionStateTypes=void 0;var t=M(),r;(function(n){n.Start="start",n.Continue="continue",n.Done="done"})(r||(e.SemanticActionStateTypes=r={})),e.semanticActionStateTypesZodSchema=t.z.enum(["start","continue","done"])}),_r=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.attachmentLayoutTypesZodSchema=e.AttachmentLayoutTypes=void 0;var t=M(),r;(function(n){n.List="list",n.Carousel="carousel"})(r||(e.AttachmentLayoutTypes=r={})),e.attachmentLayoutTypesZodSchema=t.z.enum(["list","carousel"])}),wr=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Channels=void 0;var t;(function(r){r.Alexa="alexa",r.Console="console",r.Directline="directline",r.DirectlineSpeech="directlinespeech",r.Email="email",r.Emulator="emulator",r.Facebook="facebook",r.Groupme="groupme",r.Line="line",r.Msteams="msteams",r.Omni="omnichannel",r.Outlook="outlook",r.Skype="skype",r.Slack="slack",r.Sms="sms",r.Telegram="telegram",r.Telephony="telephony",r.Test="test",r.Webchat="webchat"})(t||(e.Channels=t={}))}),Cr=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.endOfConversationCodesZodSchema=e.EndOfConversationCodes=void 0;var t=M(),r;(function(n){n.Unknown="unknown",n.CompletedSuccessfully="completedSuccessfully",n.UserCancelled="userCancelled",n.AgentTimedOut="agentTimedOut",n.AgentIssuedInvalidMessage="agentIssuedInvalidMessage",n.ChannelFailed="channelFailed"})(r||(e.EndOfConversationCodes=r={})),e.endOfConversationCodesZodSchema=t.z.enum(["unknown","completedSuccessfully","userCancelled","agentTimedOut","agentIssuedInvalidMessage","channelFailed"])}),Rt=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.roleTypeZodSchema=e.RoleTypes=void 0;var t=M(),r;(function(n){n.User="user",n.Agent="bot",n.Skill="skill"})(r||(e.RoleTypes=r={})),e.roleTypeZodSchema=t.z.enum(["user","bot","skill"])}),fa=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.addAIToActivity=void 0;var t=(r,n,i)=>{var s;let o={type:"https://schema.org/Message","@type":"Message","@context":"https://schema.org","@id":"",additionalType:["AIGeneratedContent"],citation:n,usageInfo:i};(s=r.entities)!==null&&s!==void 0||(r.entities=[]),r.entities.push(o)};e.addAIToActivity=t}),pa=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.adaptiveCardInvokeActionZodSchema=void 0;var t=M();e.adaptiveCardInvokeActionZodSchema=t.z.object({type:t.z.string().min(1),id:t.z.string().optional(),verb:t.z.string().min(1),data:t.z.record(t.z.string().min(1),t.z.any())})}),ha=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default="ffffffff-ffff-ffff-ffff-ffffffffffff"}),ma=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default="00000000-0000-0000-0000-000000000000"}),va=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i}),tt=E(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=va();function r(n){return typeof n=="string"&&t.default.test(n)}e.default=r}),rt=E(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=tt();function r(n){if(!(0,t.default)(n))throw TypeError("Invalid UUID");let i;return Uint8Array.of((i=parseInt(n.slice(0,8),16))>>>24,i>>>16&255,i>>>8&255,i&255,(i=parseInt(n.slice(9,13),16))>>>8,i&255,(i=parseInt(n.slice(14,18),16))>>>8,i&255,(i=parseInt(n.slice(19,23),16))>>>8,i&255,(i=parseInt(n.slice(24,36),16))/1099511627776&255,i/4294967296&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255)}e.default=r}),se=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.unsafeStringify=void 0;var t=tt(),r=[];for(let s=0;s<256;++s)r.push((s+256).toString(16).slice(1));function n(s,o=0){return(r[s[o+0]]+r[s[o+1]]+r[s[o+2]]+r[s[o+3]]+"-"+r[s[o+4]]+r[s[o+5]]+"-"+r[s[o+6]]+r[s[o+7]]+"-"+r[s[o+8]]+r[s[o+9]]+"-"+r[s[o+10]]+r[s[o+11]]+r[s[o+12]]+r[s[o+13]]+r[s[o+14]]+r[s[o+15]]).toLowerCase()}e.unsafeStringify=n;function i(s,o=0){let c=n(s,o);if(!(0,t.default)(c))throw TypeError("Stringified UUID is invalid");return c}e.default=i}),Ut=E(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t,r=new Uint8Array(16);function n(){if(!t){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t=crypto.getRandomValues.bind(crypto)}return t(r)}e.default=n}),Tr=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.updateV1State=void 0;var t=Ut(),r=se(),n={};function i(c,p,m){var v,C,T,l;let w,g=(v=c?._v6)!=null?v:!1;if(c){let b=Object.keys(c);b.length===1&&b[0]==="_v6"&&(c=void 0)}if(c)w=o((l=(T=c.random)!=null?T:(C=c.rng)==null?void 0:C.call(c))!=null?l:(0,t.default)(),c.msecs,c.nsecs,c.clockseq,c.node,p,m);else{let b=Date.now(),_=(0,t.default)();s(n,b,_),w=o(_,n.msecs,n.nsecs,g?void 0:n.clockseq,g?void 0:n.node,p,m)}return p??(0,r.unsafeStringify)(w)}function s(c,p,m){return c.msecs!=null||(c.msecs=-1/0),c.nsecs!=null||(c.nsecs=0),p===c.msecs?(c.nsecs++,c.nsecs>=1e4&&(c.node=void 0,c.nsecs=0)):p>c.msecs?c.nsecs=0:p<c.msecs&&(c.node=void 0),c.node||(c.node=m.slice(10,16),c.node[0]|=1,c.clockseq=(m[8]<<8|m[9])&16383),c.msecs=p,c}e.updateV1State=s;function o(c,p,m,v,C,T,l=0){if(c.length<16)throw new Error("Random bytes length must be >= 16");if(!T)T=new Uint8Array(16),l=0;else if(l<0||l+16>T.length)throw new RangeError(`UUID byte range ${l}:${l+15} is out of buffer bounds`);p!=null||(p=Date.now()),m!=null||(m=0),v!=null||(v=(c[8]<<8|c[9])&16383),C!=null||(C=c.slice(10,16)),p+=122192928e5;let w=((p&268435455)*1e4+m)%4294967296;T[l++]=w>>>24&255,T[l++]=w>>>16&255,T[l++]=w>>>8&255,T[l++]=w&255;let g=p/4294967296*1e4&268435455;T[l++]=g>>>8&255,T[l++]=g&255,T[l++]=g>>>24&15|16,T[l++]=g>>>16&255,T[l++]=v>>>8|128,T[l++]=v&255;for(let b=0;b<6;++b)T[l++]=C[b];return T}e.default=i}),Ir=E(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=rt(),r=se();function n(s){let o=typeof s=="string"?(0,t.default)(s):s,c=i(o);return typeof s=="string"?(0,r.unsafeStringify)(c):c}e.default=n;function i(s){return Uint8Array.of((s[6]&15)<<4|s[7]>>4&15,(s[7]&15)<<4|(s[4]&240)>>4,(s[4]&15)<<4|(s[5]&240)>>4,(s[5]&15)<<4|(s[0]&240)>>4,(s[0]&15)<<4|(s[1]&240)>>4,(s[1]&15)<<4|(s[2]&240)>>4,96|s[2]&15,s[3],s[8],s[9],s[10],s[11],s[12],s[13],s[14],s[15])}}),ya=E(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(l){let w=s(l),g=i(w,l.length*8);return r(g)}function r(l){let w=new Uint8Array(l.length*4);for(let g=0;g<l.length*4;g++)w[g]=l[g>>2]>>>g%4*8&255;return w}function n(l){return(l+64>>>9<<4)+14+1}function i(l,w){let g=new Uint32Array(n(w)).fill(0);g.set(l),g[w>>5]|=128<<w%32,g[g.length-1]=w,l=g;let b=1732584193,_=-271733879,y=-1732584194,x=271733878;for(let O=0;O<l.length;O+=16){let L=b,D=_,S=y,U=x;b=m(b,_,y,x,l[O],7,-680876936),x=m(x,b,_,y,l[O+1],12,-389564586),y=m(y,x,b,_,l[O+2],17,606105819),_=m(_,y,x,b,l[O+3],22,-1044525330),b=m(b,_,y,x,l[O+4],7,-176418897),x=m(x,b,_,y,l[O+5],12,1200080426),y=m(y,x,b,_,l[O+6],17,-1473231341),_=m(_,y,x,b,l[O+7],22,-45705983),b=m(b,_,y,x,l[O+8],7,1770035416),x=m(x,b,_,y,l[O+9],12,-1958414417),y=m(y,x,b,_,l[O+10],17,-42063),_=m(_,y,x,b,l[O+11],22,-1990404162),b=m(b,_,y,x,l[O+12],7,1804603682),x=m(x,b,_,y,l[O+13],12,-40341101),y=m(y,x,b,_,l[O+14],17,-1502002290),_=m(_,y,x,b,l[O+15],22,1236535329),b=v(b,_,y,x,l[O+1],5,-165796510),x=v(x,b,_,y,l[O+6],9,-1069501632),y=v(y,x,b,_,l[O+11],14,643717713),_=v(_,y,x,b,l[O],20,-373897302),b=v(b,_,y,x,l[O+5],5,-701558691),x=v(x,b,_,y,l[O+10],9,38016083),y=v(y,x,b,_,l[O+15],14,-660478335),_=v(_,y,x,b,l[O+4],20,-405537848),b=v(b,_,y,x,l[O+9],5,568446438),x=v(x,b,_,y,l[O+14],9,-1019803690),y=v(y,x,b,_,l[O+3],14,-187363961),_=v(_,y,x,b,l[O+8],20,1163531501),b=v(b,_,y,x,l[O+13],5,-1444681467),x=v(x,b,_,y,l[O+2],9,-51403784),y=v(y,x,b,_,l[O+7],14,1735328473),_=v(_,y,x,b,l[O+12],20,-1926607734),b=C(b,_,y,x,l[O+5],4,-378558),x=C(x,b,_,y,l[O+8],11,-2022574463),y=C(y,x,b,_,l[O+11],16,1839030562),_=C(_,y,x,b,l[O+14],23,-35309556),b=C(b,_,y,x,l[O+1],4,-1530992060),x=C(x,b,_,y,l[O+4],11,1272893353),y=C(y,x,b,_,l[O+7],16,-155497632),_=C(_,y,x,b,l[O+10],23,-1094730640),b=C(b,_,y,x,l[O+13],4,681279174),x=C(x,b,_,y,l[O],11,-358537222),y=C(y,x,b,_,l[O+3],16,-722521979),_=C(_,y,x,b,l[O+6],23,76029189),b=C(b,_,y,x,l[O+9],4,-640364487),x=C(x,b,_,y,l[O+12],11,-421815835),y=C(y,x,b,_,l[O+15],16,530742520),_=C(_,y,x,b,l[O+2],23,-995338651),b=T(b,_,y,x,l[O],6,-198630844),x=T(x,b,_,y,l[O+7],10,1126891415),y=T(y,x,b,_,l[O+14],15,-1416354905),_=T(_,y,x,b,l[O+5],21,-57434055),b=T(b,_,y,x,l[O+12],6,1700485571),x=T(x,b,_,y,l[O+3],10,-1894986606),y=T(y,x,b,_,l[O+10],15,-1051523),_=T(_,y,x,b,l[O+1],21,-2054922799),b=T(b,_,y,x,l[O+8],6,1873313359),x=T(x,b,_,y,l[O+15],10,-30611744),y=T(y,x,b,_,l[O+6],15,-1560198380),_=T(_,y,x,b,l[O+13],21,1309151649),b=T(b,_,y,x,l[O+4],6,-145523070),x=T(x,b,_,y,l[O+11],10,-1120210379),y=T(y,x,b,_,l[O+2],15,718787259),_=T(_,y,x,b,l[O+9],21,-343485551),b=o(b,L),_=o(_,D),y=o(y,S),x=o(x,U)}return Uint32Array.of(b,_,y,x)}function s(l){if(l.length===0)return new Uint32Array;let w=new Uint32Array(n(l.length*8)).fill(0);for(let g=0;g<l.length;g++)w[g>>2]|=(l[g]&255)<<g%4*8;return w}function o(l,w){let g=(l&65535)+(w&65535);return(l>>16)+(w>>16)+(g>>16)<<16|g&65535}function c(l,w){return l<<w|l>>>32-w}function p(l,w,g,b,_,y){return o(c(o(o(w,l),o(b,y)),_),g)}function m(l,w,g,b,_,y,x){return p(w&g|~w&b,l,w,_,y,x)}function v(l,w,g,b,_,y,x){return p(w&b|g&~b,l,w,_,y,x)}function C(l,w,g,b,_,y,x){return p(w^g^b,l,w,_,y,x)}function T(l,w,g,b,_,y,x){return p(g^(w|~b),l,w,_,y,x)}e.default=t}),nt=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=e.stringToBytes=void 0;var t=rt(),r=se();function n(s){s=unescape(encodeURIComponent(s));let o=new Uint8Array(s.length);for(let c=0;c<s.length;++c)o[c]=s.charCodeAt(c);return o}e.stringToBytes=n,e.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",e.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function i(s,o,c,p,m,v){let C=typeof c=="string"?n(c):c,T=typeof p=="string"?(0,t.default)(p):p;if(typeof p=="string"&&(p=(0,t.default)(p)),p?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+C.length);if(l.set(T),l.set(C,T.length),l=o(l),l[6]=l[6]&15|s,l[8]=l[8]&63|128,m){v=v||0;for(let w=0;w<16;++w)m[v+w]=l[w];return m}return(0,r.unsafeStringify)(l)}e.default=i}),ga=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=void 0;var t=ya(),r=nt(),n=nt();Object.defineProperty(e,"DNS",{enumerable:!0,get:function(){return n.DNS}}),Object.defineProperty(e,"URL",{enumerable:!0,get:function(){return n.URL}});function i(s,o,c,p){return(0,r.default)(48,t.default,s,o,c,p)}i.DNS=r.DNS,i.URL=r.URL,e.default=i}),ba=E(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);e.default={randomUUID:t}}),_a=E(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ba(),r=Ut(),n=se();function i(s,o,c){var p,m,v;if(t.default.randomUUID&&!o&&!s)return t.default.randomUUID();s=s||{};let C=(v=(m=s.random)!=null?m:(p=s.rng)==null?void 0:p.call(s))!=null?v:(0,r.default)();if(C.length<16)throw new Error("Random bytes length must be >= 16");if(C[6]=C[6]&15|64,C[8]=C[8]&63|128,o){if(c=c||0,c<0||c+16>o.length)throw new RangeError(`UUID byte range ${c}:${c+15} is out of buffer bounds`);for(let T=0;T<16;++T)o[c+T]=C[T];return o}return(0,n.unsafeStringify)(C)}e.default=i}),wa=E(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(i,s,o,c){switch(i){case 0:return s&o^~s&c;case 1:return s^o^c;case 2:return s&o^s&c^o&c;case 3:return s^o^c}}function r(i,s){return i<<s|i>>>32-s}function n(i){let s=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520],c=new Uint8Array(i.length+1);c.set(i),c[i.length]=128,i=c;let p=i.length/4+2,m=Math.ceil(p/16),v=new Array(m);for(let C=0;C<m;++C){let T=new Uint32Array(16);for(let l=0;l<16;++l)T[l]=i[C*64+l*4]<<24|i[C*64+l*4+1]<<16|i[C*64+l*4+2]<<8|i[C*64+l*4+3];v[C]=T}v[m-1][14]=(i.length-1)*8/Math.pow(2,32),v[m-1][14]=Math.floor(v[m-1][14]),v[m-1][15]=(i.length-1)*8&4294967295;for(let C=0;C<m;++C){let T=new Uint32Array(80);for(let y=0;y<16;++y)T[y]=v[C][y];for(let y=16;y<80;++y)T[y]=r(T[y-3]^T[y-8]^T[y-14]^T[y-16],1);let l=o[0],w=o[1],g=o[2],b=o[3],_=o[4];for(let y=0;y<80;++y){let x=Math.floor(y/20),O=r(l,5)+t(x,w,g,b)+_+s[x]+T[y]>>>0;_=b,b=g,g=r(w,30)>>>0,w=l,l=O}o[0]=o[0]+l>>>0,o[1]=o[1]+w>>>0,o[2]=o[2]+g>>>0,o[3]=o[3]+b>>>0,o[4]=o[4]+_>>>0}return Uint8Array.of(o[0]>>24,o[0]>>16,o[0]>>8,o[0],o[1]>>24,o[1]>>16,o[1]>>8,o[1],o[2]>>24,o[2]>>16,o[2]>>8,o[2],o[3]>>24,o[3]>>16,o[3]>>8,o[3],o[4]>>24,o[4]>>16,o[4]>>8,o[4])}e.default=n}),Ca=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=void 0;var t=wa(),r=nt(),n=nt();Object.defineProperty(e,"DNS",{enumerable:!0,get:function(){return n.DNS}}),Object.defineProperty(e,"URL",{enumerable:!0,get:function(){return n.URL}});function i(s,o,c,p){return(0,r.default)(80,t.default,s,o,c,p)}i.DNS=r.DNS,i.URL=r.URL,e.default=i}),Ta=E(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=se(),r=Tr(),n=Ir();function i(s,o,c){s!=null||(s={}),c!=null||(c=0);let p=(0,r.default)({...s,_v6:!0},new Uint8Array(16));if(p=(0,n.default)(p),o){for(let m=0;m<16;m++)o[c+m]=p[m];return o}return(0,t.unsafeStringify)(p)}e.default=i}),Ia=E(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=rt(),r=se();function n(s){let o=typeof s=="string"?(0,t.default)(s):s,c=i(o);return typeof s=="string"?(0,r.unsafeStringify)(c):c}e.default=n;function i(s){return Uint8Array.of((s[3]&15)<<4|s[4]>>4&15,(s[4]&15)<<4|(s[5]&240)>>4,(s[5]&15)<<4|s[6]&15,s[7],(s[1]&15)<<4|(s[2]&240)>>4,(s[2]&15)<<4|(s[3]&240)>>4,16|(s[0]&240)>>4,(s[0]&15)<<4|(s[1]&240)>>4,s[8],s[9],s[10],s[11],s[12],s[13],s[14],s[15])}}),xa=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.updateV7State=void 0;var t=Ut(),r=se(),n={};function i(c,p,m){var v,C,T;let l;if(c)l=o((T=(C=c.random)!=null?C:(v=c.rng)==null?void 0:v.call(c))!=null?T:(0,t.default)(),c.msecs,c.seq,p,m);else{let w=Date.now(),g=(0,t.default)();s(n,w,g),l=o(g,n.msecs,n.seq,p,m)}return p??(0,r.unsafeStringify)(l)}function s(c,p,m){return c.msecs!=null||(c.msecs=-1/0),c.seq!=null||(c.seq=0),p>c.msecs?(c.seq=m[6]<<23|m[7]<<16|m[8]<<8|m[9],c.msecs=p):(c.seq=c.seq+1|0,c.seq===0&&c.msecs++),c}e.updateV7State=s;function o(c,p,m,v,C=0){if(c.length<16)throw new Error("Random bytes length must be >= 16");if(!v)v=new Uint8Array(16),C=0;else if(C<0||C+16>v.length)throw new RangeError(`UUID byte range ${C}:${C+15} is out of buffer bounds`);return p!=null||(p=Date.now()),m!=null||(m=c[6]*127<<24|c[7]<<16|c[8]<<8|c[9]),v[C++]=p/1099511627776&255,v[C++]=p/4294967296&255,v[C++]=p/16777216&255,v[C++]=p/65536&255,v[C++]=p/256&255,v[C++]=p&255,v[C++]=112|m>>>28&15,v[C++]=m>>>20&255,v[C++]=128|m>>>14&63,v[C++]=m>>>6&255,v[C++]=m<<2&255|c[10]&3,v[C++]=c[11],v[C++]=c[12],v[C++]=c[13],v[C++]=c[14],v[C++]=c[15],v}e.default=i}),Aa=E(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=tt();function r(n){if(!(0,t.default)(n))throw TypeError("Invalid UUID");return parseInt(n.slice(14,15),16)}e.default=r}),Oa=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.validate=e.v7=e.v6ToV1=e.v6=e.v5=e.v4=e.v3=e.v1ToV6=e.v1=e.stringify=e.parse=e.NIL=e.MAX=void 0;var t=ha();Object.defineProperty(e,"MAX",{enumerable:!0,get:function(){return t.default}});var r=ma();Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return r.default}});var n=rt();Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return n.default}});var i=se();Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.default}});var s=Tr();Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return s.default}});var o=Ir();Object.defineProperty(e,"v1ToV6",{enumerable:!0,get:function(){return o.default}});var c=ga();Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return c.default}});var p=_a();Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return p.default}});var m=Ca();Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return m.default}});var v=Ta();Object.defineProperty(e,"v6",{enumerable:!0,get:function(){return v.default}});var C=Ia();Object.defineProperty(e,"v6ToV1",{enumerable:!0,get:function(){return C.default}});var T=xa();Object.defineProperty(e,"v7",{enumerable:!0,get:function(){return T.default}});var l=tt();Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return l.default}});var w=Aa();Object.defineProperty(e,"version",{enumerable:!0,get:function(){return w.default}})}),xr=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.entityZodSchema=void 0;var t=M();e.entityZodSchema=t.z.object({type:t.z.string().min(1)}).passthrough()}),Sa=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.semanticActionZodSchema=void 0;var t=M(),r=xr(),n=br();e.semanticActionZodSchema=t.z.object({id:t.z.string().min(1),state:t.z.union([n.semanticActionStateTypesZodSchema,t.z.string().min(1)]),entities:t.z.record(r.entityZodSchema)})}),Pa=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.cardActionZodSchema=void 0;var t=M(),r=gr();e.cardActionZodSchema=t.z.object({type:t.z.union([r.actionTypesZodSchema,t.z.string().min(1)]),title:t.z.string().min(1),image:t.z.string().min(1).optional(),text:t.z.string().min(1).optional(),displayText:t.z.string().min(1).optional(),value:t.z.any().optional(),channelData:t.z.unknown().optional(),imageAltText:t.z.string().min(1).optional()})}),Za=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.suggestedActionsZodSchema=void 0;var t=M(),r=Pa();e.suggestedActionsZodSchema=t.z.object({to:t.z.array(t.z.string().min(1)),actions:t.z.array(r.cardActionZodSchema)})}),Ar=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.activityEventNamesZodSchema=e.ActivityEventNames=void 0;var t=M(),r;(function(n){n.ContinueConversation="ContinueConversation",n.CreateConversation="CreateConversation"})(r||(e.ActivityEventNames=r={})),e.activityEventNamesZodSchema=t.z.enum(["ContinueConversation","CreateConversation"])}),Or=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.activityImportanceZodSchema=e.ActivityImportance=void 0;var t=M(),r;(function(n){n.Low="low",n.Normal="normal",n.High="high"})(r||(e.ActivityImportance=r={})),e.activityImportanceZodSchema=t.z.enum(["low","normal","high"])}),Sr=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.activityTypesZodSchema=e.ActivityTypes=void 0;var t=M(),r;(function(n){n.Message="message",n.ContactRelationUpdate="contactRelationUpdate",n.ConversationUpdate="conversationUpdate",n.Typing="typing",n.EndOfConversation="endOfConversation",n.Event="event",n.Invoke="invoke",n.InvokeResponse="invokeResponse",n.DeleteUserData="deleteUserData",n.MessageUpdate="messageUpdate",n.MessageDelete="messageDelete",n.InstallationUpdate="installationUpdate",n.MessageReaction="messageReaction",n.Suggestion="suggestion",n.Trace="trace",n.Handoff="handoff",n.Command="command",n.CommandResult="commandResult",n.Delay="delay"})(r||(e.ActivityTypes=r={})),e.activityTypesZodSchema=t.z.enum(["message","contactRelationUpdate","conversationUpdate","typing","endOfConversation","event","invoke","invokeResponse","deleteUserData","messageUpdate","messageDelete","installationUpdate","messageReaction","suggestion","trace","handoff","command","commandResult","delay"])}),ka=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.attachmentZodSchema=void 0;var t=M();e.attachmentZodSchema=t.z.object({contentType:t.z.string().min(1),contentUrl:t.z.string().min(1).optional(),content:t.z.unknown().optional(),name:t.z.string().min(1).optional(),thumbnailUrl:t.z.string().min(1).optional()})}),Pr=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.channelAccountZodSchema=void 0;var t=M(),r=Rt();e.channelAccountZodSchema=t.z.object({id:t.z.string().min(1).optional(),name:t.z.string().optional(),aadObjectId:t.z.string().min(1).optional(),role:t.z.union([r.roleTypeZodSchema,t.z.string().min(1)]).optional(),properties:t.z.unknown().optional()})}),Zr=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.conversationAccountZodSchema=void 0;var t=M(),r=Rt();e.conversationAccountZodSchema=t.z.object({isGroup:t.z.boolean().optional(),conversationType:t.z.string().min(1).optional(),tenantId:t.z.string().min(1).optional(),id:t.z.string().min(1),name:t.z.string().min(1).optional(),aadObjectId:t.z.string().min(1).optional(),role:t.z.union([r.roleTypeZodSchema,t.z.string().min(1)]).optional(),properties:t.z.unknown().optional()})}),Ea=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.conversationReferenceZodSchema=void 0;var t=M(),r=Pr(),n=Zr();e.conversationReferenceZodSchema=t.z.object({activityId:t.z.string().min(1).optional(),user:r.channelAccountZodSchema.optional(),locale:t.z.string().min(1).optional(),agent:r.channelAccountZodSchema.optional().nullable(),conversation:n.conversationAccountZodSchema,channelId:t.z.string().min(1),serviceUrl:t.z.string().min(1).optional()})}),kr=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.deliveryModesZodSchema=e.DeliveryModes=void 0;var t=M(),r;(function(n){n.Normal="normal",n.Notification="notification",n.ExpectReplies="expectReplies",n.Ephemeral="ephemeral"})(r||(e.DeliveryModes=r={})),e.deliveryModesZodSchema=t.z.enum(["normal","notification","expectReplies","ephemeral"])}),Er=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.inputHintsZodSchema=e.InputHints=void 0;var t=M(),r;(function(n){n.AcceptingInput="acceptingInput",n.IgnoringInput="ignoringInput",n.ExpectingInput="expectingInput"})(r||(e.InputHints=r={})),e.inputHintsZodSchema=t.z.enum(["acceptingInput","ignoringInput","expectingInput"])}),Rr=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.messageReactionTypesZodSchema=e.MessageReactionTypes=void 0;var t=M(),r;(function(n){n.Like="like",n.PlusOne="plusOne"})(r||(e.MessageReactionTypes=r={})),e.messageReactionTypesZodSchema=t.z.enum(["like","plusOne"])}),Ra=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.messageReactionZodSchema=void 0;var t=M(),r=Rr();e.messageReactionZodSchema=t.z.object({type:t.z.union([r.messageReactionTypesZodSchema,t.z.string().min(1)])})}),Ur=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.textFormatTypesZodSchema=e.TextFormatTypes=void 0;var t=M(),r;(function(n){n.Markdown="markdown",n.Plain="plain",n.Xml="xml"})(r||(e.TextFormatTypes=r={})),e.textFormatTypesZodSchema=t.z.enum(["markdown","plain","xml"])}),Ua=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.textHighlightZodSchema=void 0;var t=M();e.textHighlightZodSchema=t.z.object({text:t.z.string().min(1),occurrence:t.z.number()})}),ja=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Activity=e.activityZodSchema=void 0;var t=Oa(),r=M(),n=Sa(),i=Za(),s=Ar(),o=Or(),c=Sr(),p=ka(),m=_r(),v=Pr(),C=wr(),T=Zr(),l=Ea(),w=Cr(),g=kr(),b=xr(),_=Er(),y=Ra(),x=Ur(),O=Ua();e.activityZodSchema=r.z.object({type:r.z.union([c.activityTypesZodSchema,r.z.string().min(1)]),text:r.z.string().optional(),id:r.z.string().min(1).optional(),channelId:r.z.string().min(1).optional(),from:v.channelAccountZodSchema.optional(),timestamp:r.z.union([r.z.date(),r.z.string().min(1).datetime().optional(),r.z.string().min(1).transform(D=>new Date(D)).optional()]),localTimestamp:r.z.string().min(1).transform(D=>new Date(D)).optional().or(r.z.date()).optional(),localTimezone:r.z.string().min(1).optional(),callerId:r.z.string().min(1).optional(),serviceUrl:r.z.string().min(1).optional(),conversation:T.conversationAccountZodSchema.optional(),recipient:v.channelAccountZodSchema.optional(),textFormat:r.z.union([x.textFormatTypesZodSchema,r.z.string().min(1)]).optional(),attachmentLayout:r.z.union([m.attachmentLayoutTypesZodSchema,r.z.string().min(1)]).optional(),membersAdded:r.z.array(v.channelAccountZodSchema).optional(),membersRemoved:r.z.array(v.channelAccountZodSchema).optional(),reactionsAdded:r.z.array(y.messageReactionZodSchema).optional(),reactionsRemoved:r.z.array(y.messageReactionZodSchema).optional(),topicName:r.z.string().min(1).optional(),historyDisclosed:r.z.boolean().optional(),locale:r.z.string().min(1).optional(),speak:r.z.string().min(1).optional(),inputHint:r.z.union([_.inputHintsZodSchema,r.z.string().min(1)]).optional(),summary:r.z.string().min(1).optional(),suggestedActions:i.suggestedActionsZodSchema.optional(),attachments:r.z.array(p.attachmentZodSchema).optional(),entities:r.z.array(b.entityZodSchema.passthrough()).optional(),channelData:r.z.any().optional(),action:r.z.string().min(1).optional(),replyToId:r.z.string().min(1).optional(),label:r.z.string().min(1).optional(),valueType:r.z.string().min(1).optional(),value:r.z.unknown().optional(),name:r.z.union([s.activityEventNamesZodSchema,r.z.string().min(1)]).optional(),relatesTo:l.conversationReferenceZodSchema.optional(),code:r.z.union([w.endOfConversationCodesZodSchema,r.z.string().min(1)]).optional(),expiration:r.z.string().min(1).datetime().optional(),importance:r.z.union([o.activityImportanceZodSchema,r.z.string().min(1)]).optional(),deliveryMode:r.z.union([g.deliveryModesZodSchema,r.z.string().min(1)]).optional(),listenFor:r.z.array(r.z.string().min(1)).optional(),textHighlights:r.z.array(O.textHighlightZodSchema).optional(),semanticAction:n.semanticActionZodSchema.optional()});var L=class Ie{constructor(S){if(S===void 0)throw new Error("Invalid ActivityType: undefined");if(S===null)throw new Error("Invalid ActivityType: null");if(typeof S=="string"&&S.length===0)throw new Error("Invalid ActivityType: empty string");this.type=S}static fromJson(S){return this.fromObject(JSON.parse(S))}static fromObject(S){let U=e.activityZodSchema.passthrough().parse(S),F=new Ie(U.type);return Object.assign(F,U),F}static getContinuationActivity(S){let U={type:c.ActivityTypes.Event,name:s.ActivityEventNames.ContinueConversation,id:(0,t.v4)(),channelId:S.channelId,locale:S.locale,serviceUrl:S.serviceUrl,conversation:S.conversation,recipient:S.agent,from:S.user,relatesTo:S};return Ie.fromObject(U)}getAppropriateReplyToId(){if(this.type!==c.ActivityTypes.ConversationUpdate||this.channelId!==C.Channels.Directline&&this.channelId!==C.Channels.Webchat)return this.id}getConversationReference(){if(this.recipient===null||this.recipient===void 0)throw new Error("Activity Recipient undefined");if(this.conversation===null||this.conversation===void 0)throw new Error("Activity Conversation undefined");if(this.channelId===null||this.channelId===void 0)throw new Error("Activity ChannelId undefined");return{activityId:this.getAppropriateReplyToId(),user:this.from,agent:this.recipient,conversation:this.conversation,channelId:this.channelId,locale:this.locale,serviceUrl:this.serviceUrl}}applyConversationReference(S,U=!1){var F,V,$;return this.channelId=S.channelId,(F=this.locale)!==null&&F!==void 0||(this.locale=S.locale),this.serviceUrl=S.serviceUrl,this.conversation=S.conversation,U?(this.from=S.user,this.recipient=(V=S.agent)!==null&&V!==void 0?V:void 0,S.activityId&&(this.id=S.activityId)):(this.from=($=S.agent)!==null&&$!==void 0?$:void 0,this.recipient=S.user,S.activityId&&(this.replyToId=S.activityId)),this}clone(){let S=JSON.parse(JSON.stringify(this));for(let U in S)typeof S[U]=="string"&&!isNaN(Date.parse(S[U]))&&(S[U]=new Date(S[U]));return Object.setPrototypeOf(S,Ie.prototype),S}getMentions(S){let U=[];if(S.entities!==void 0)for(let F=0;F<S.entities.length;F++)S.entities[F].type.toLowerCase()==="mention"&&U.push(S.entities[F]);return U}normalizeMentions(S=!1){var U,F;if(this.type===c.ActivityTypes.Message&&(S&&(this.removeRecipientMention(),this.entities!==void 0&&!((U=this.recipient)===null||U===void 0)&&U.id&&(this.entities=this.entities.filter(V=>{var $;return V.type.toLowerCase()==="mention"?V.mentioned.id!==(($=this.recipient)===null||$===void 0?void 0:$.id):!0}))),this.text&&(this.text=Ie.removeAt(this.text)),this.entities!==void 0)){let V=this.getMentions(this);for(let $ of V)$.text&&($.text=(F=Ie.removeAt($.text))===null||F===void 0?void 0:F.trim())}}static removeAt(S){if(!S)return S;let U;do{U=!1;let F=S.toLowerCase().indexOf("<at");if(F>=0){let V=S.indexOf(">",F);if(V>0){let $=S.toLowerCase().indexOf("</at>",V);if($>0){let ae=S.substring($+5);ae.length>0&&!/\s/.test(ae[0])&&(ae=` ${ae}`),S=S.substring(0,$)+ae;let sr=S.substring(V+1,$),pe=S.substring(0,F);pe.length>0&&!/\s$/.test(pe)&&(pe+=" "),S=pe+sr+ae,U=!0}}}}while(U);return S}removeMentionText(S){let U=this.getMentions(this).filter(F=>F.mentioned.id===S);return U.length>0&&this.text&&(this.text=this.text.replace(U[0].text,"").trim()),this.text||""}removeRecipientMention(){return this.recipient!=null&&this.recipient.id?this.removeMentionText(this.recipient.id):""}getReplyConversationReference(S){let U=this.getConversationReference();return U.activityId=S,U}toJsonString(){return JSON.stringify(this)}};e.Activity=L}),Na=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CallerIdConstants=void 0,e.CallerIdConstants={PublicAzureChannel:"urn:botframework:azure",USGovChannel:"urn:botframework:azureusgov",AgentPrefix:"urn:botframework:aadappid:"}}),Da=E(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.activityTreatments=e.ActivityTreatments=void 0;var t=M(),r;(function(n){n.Targeted="targeted"})(r||(e.ActivityTreatments=r={})),e.activityTreatments=t.z.nativeEnum(r)}),La=E(e=>{var t=e&&e.__createBinding||(Object.create?(function(O,L,D,S){S===void 0&&(S=D);var U=Object.getOwnPropertyDescriptor(L,D);(!U||("get"in U?!L.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return L[D]}}),Object.defineProperty(O,S,U)}):(function(O,L,D,S){S===void 0&&(S=D),O[S]=L[D]})),r=e&&e.__exportStar||function(O,L){for(var D in O)D!=="default"&&!Object.prototype.hasOwnProperty.call(L,D)&&t(L,O,D)};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.debug=e.ActivityTreatments=e.TextFormatTypes=e.MessageReactionTypes=e.InputHints=e.DeliveryModes=e.CallerIdConstants=e.ActivityTypes=e.ActivityImportance=e.ActivityEventNames=e.activityZodSchema=e.Activity=e.RoleTypes=e.EndOfConversationCodes=e.Channels=e.AttachmentLayoutTypes=e.SemanticActionStateTypes=e.ActionTypes=void 0;var n=gr();Object.defineProperty(e,"ActionTypes",{enumerable:!0,get:function(){return n.ActionTypes}});var i=br();Object.defineProperty(e,"SemanticActionStateTypes",{enumerable:!0,get:function(){return i.SemanticActionStateTypes}});var s=_r();Object.defineProperty(e,"AttachmentLayoutTypes",{enumerable:!0,get:function(){return s.AttachmentLayoutTypes}});var o=wr();Object.defineProperty(e,"Channels",{enumerable:!0,get:function(){return o.Channels}});var c=Cr();Object.defineProperty(e,"EndOfConversationCodes",{enumerable:!0,get:function(){return c.EndOfConversationCodes}});var p=Rt();Object.defineProperty(e,"RoleTypes",{enumerable:!0,get:function(){return p.RoleTypes}}),r(fa(),e),r(pa(),e);var m=ja();Object.defineProperty(e,"Activity",{enumerable:!0,get:function(){return m.Activity}}),Object.defineProperty(e,"activityZodSchema",{enumerable:!0,get:function(){return m.activityZodSchema}});var v=Ar();Object.defineProperty(e,"ActivityEventNames",{enumerable:!0,get:function(){return v.ActivityEventNames}});var C=Or();Object.defineProperty(e,"ActivityImportance",{enumerable:!0,get:function(){return C.ActivityImportance}});var T=Sr();Object.defineProperty(e,"ActivityTypes",{enumerable:!0,get:function(){return T.ActivityTypes}});var l=Na();Object.defineProperty(e,"CallerIdConstants",{enumerable:!0,get:function(){return l.CallerIdConstants}});var w=kr();Object.defineProperty(e,"DeliveryModes",{enumerable:!0,get:function(){return w.DeliveryModes}});var g=Er();Object.defineProperty(e,"InputHints",{enumerable:!0,get:function(){return g.InputHints}});var b=Rr();Object.defineProperty(e,"MessageReactionTypes",{enumerable:!0,get:function(){return b.MessageReactionTypes}});var _=Ur();Object.defineProperty(e,"TextFormatTypes",{enumerable:!0,get:function(){return _.TextFormatTypes}});var y=Da();Object.defineProperty(e,"ActivityTreatments",{enumerable:!0,get:function(){return y.ActivityTreatments}});var x=Qe();Object.defineProperty(e,"debug",{enumerable:!0,get:function(){return x.debug}}),Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return x.Logger}})}),Fa=(e=>(e.Published="Published",e.Prebuilt="Prebuilt",e))(Fa||{}),Ma=(e=>(e.Unknown="Unknown",e.Exp="Exp",e.Dev="Dev",e.Test="Test",e.Preprod="Preprod",e.FirstRelease="FirstRelease",e.Prod="Prod",e.Gov="Gov",e.High="High",e.DoD="DoD",e.Mooncake="Mooncake",e.Ex="Ex",e.Rx="Rx",e.Prv="Prv",e.Local="Local",e.GovFR="GovFR",e.Other="Other",e))(Ma||{});function jr(e,t){return function(){return e.apply(t,arguments)}}var{toString:za}=Object.prototype,{getPrototypeOf:jt}=Object,{iterator:at,toStringTag:Nr}=Symbol,it=(e=>t=>{let r=za.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Y=e=>(e=e.toLowerCase(),t=>it(t)===e),st=e=>t=>typeof t===e,{isArray:ye}=Array,Ae=st("undefined");function Oe(e){return e!==null&&!Ae(e)&&e.constructor!==null&&!Ae(e.constructor)&&W(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var Dr=Y("ArrayBuffer");function $a(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Dr(e.buffer),t}var Va=st("string"),W=st("function"),Lr=st("number"),Se=e=>e!==null&&typeof e=="object",Ba=e=>e===!0||e===!1,ot=e=>{if(it(e)!=="object")return!1;let t=jt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Nr in e)&&!(at in e)},qa=e=>{if(!Se(e)||Oe(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ka=Y("Date"),Wa=Y("File"),Ha=Y("Blob"),Ja=Y("FileList"),Ya=e=>Se(e)&&W(e.pipe),Ga=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||W(e.append)&&((t=it(e))==="formdata"||t==="object"&&W(e.toString)&&e.toString()==="[object FormData]"))},Xa=Y("URLSearchParams"),[Qa,ei,ti,ri]=["ReadableStream","Request","Response","Headers"].map(Y),ni=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pe(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),ye(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Oe(e))return;let s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length,c;for(n=0;n<o;n++)c=s[n],t.call(null,e[c],c,e)}}function Fr(e,t){if(Oe(e))return null;t=t.toLowerCase();let r=Object.keys(e),n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}var ce=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mr=e=>!Ae(e)&&e!==ce;function Nt(){let{caseless:e}=Mr(this)&&this||{},t={},r=(n,i)=>{let s=e&&Fr(t,i)||i;ot(t[s])&&ot(n)?t[s]=Nt(t[s],n):ot(n)?t[s]=Nt({},n):ye(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Pe(arguments[n],r);return t}var ai=(e,t,r,{allOwnKeys:n}={})=>(Pe(t,(i,s)=>{r&&W(i)?e[s]=jr(i,r):e[s]=i},{allOwnKeys:n}),e),ii=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),si=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},oi=(e,t,r,n)=>{let i,s,o,c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&jt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},ui=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return n!==-1&&n===r},di=e=>{if(!e)return null;if(ye(e))return e;let t=e.length;if(!Lr(t))return null;let r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},li=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&jt(Uint8Array)),ci=(e,t)=>{let r=(e&&e[at]).call(e),n;for(;(n=r.next())&&!n.done;){let i=n.value;t.call(e,i[0],i[1])}},fi=(e,t)=>{let r,n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},pi=Y("HTMLFormElement"),hi=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,n){return r.toUpperCase()+n}),zr=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),mi=Y("RegExp"),$r=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};Pe(r,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(n[s]=o||i)}),Object.defineProperties(e,n)},vi=e=>{$r(e,(t,r)=>{if(W(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=e[r];if(W(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},yi=(e,t)=>{let r={},n=i=>{i.forEach(s=>{r[s]=!0})};return ye(e)?n(e):n(String(e).split(t)),r},gi=()=>{},bi=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function _i(e){return!!(e&&W(e.append)&&e[Nr]==="FormData"&&e[at])}var wi=e=>{let t=new Array(10),r=(n,i)=>{if(Se(n)){if(t.indexOf(n)>=0)return;if(Oe(n))return n;if(!("toJSON"in n)){t[i]=n;let s=ye(n)?[]:{};return Pe(n,(o,c)=>{let p=r(o,i+1);!Ae(p)&&(s[c]=p)}),t[i]=void 0,s}}return n};return r(e,0)},Ci=Y("AsyncFunction"),Ti=e=>e&&(Se(e)||W(e))&&W(e.then)&&W(e.catch),Vr=((e,t)=>e?setImmediate:t?((r,n)=>(ce.addEventListener("message",({source:i,data:s})=>{i===ce&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),ce.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",W(ce.postMessage)),Ii=typeof queueMicrotask<"u"?queueMicrotask.bind(ce):typeof process<"u"&&process.nextTick||Vr,xi=e=>e!=null&&W(e[at]),I={isArray:ye,isArrayBuffer:Dr,isBuffer:Oe,isFormData:Ga,isArrayBufferView:$a,isString:Va,isNumber:Lr,isBoolean:Ba,isObject:Se,isPlainObject:ot,isEmptyObject:qa,isReadableStream:Qa,isRequest:ei,isResponse:ti,isHeaders:ri,isUndefined:Ae,isDate:Ka,isFile:Wa,isBlob:Ha,isRegExp:mi,isFunction:W,isStream:Ya,isURLSearchParams:Xa,isTypedArray:li,isFileList:Ja,forEach:Pe,merge:Nt,extend:ai,trim:ni,stripBOM:ii,inherits:si,toFlatObject:oi,kindOf:it,kindOfTest:Y,endsWith:ui,toArray:di,forEachEntry:ci,matchAll:fi,isHTMLForm:pi,hasOwnProperty:zr,hasOwnProp:zr,reduceDescriptors:$r,freezeMethods:vi,toObjectSet:yi,toCamelCase:hi,noop:gi,toFiniteNumber:bi,findKey:Fr,global:ce,isContextDefined:Mr,isSpecCompliantForm:_i,toJSONObject:wi,isAsyncFn:Ci,isThenable:Ti,setImmediate:Vr,asap:Ii,isIterable:xi};function ge(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}I.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});var Br=ge.prototype,qr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qr[e]={value:e}}),Object.defineProperties(ge,qr),Object.defineProperty(Br,"isAxiosError",{value:!0}),ge.from=(e,t,r,n,i,s)=>{let o=Object.create(Br);return I.toFlatObject(e,o,function(c){return c!==Error.prototype},c=>c!=="isAxiosError"),ge.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};var N=ge,Ai=null;function Dt(e){return I.isPlainObject(e)||I.isArray(e)}function Kr(e){return I.endsWith(e,"[]")?e.slice(0,-2):e}function Wr(e,t,r){return e?e.concat(t).map(function(n,i){return n=Kr(n),!r&&i?"["+n+"]":n}).join(r?".":""):t}function Oi(e){return I.isArray(e)&&!e.some(Dt)}var Si=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function Pi(e,t,r){if(!I.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=I.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(l,w){return!I.isUndefined(w[l])});let n=r.metaTokens,i=r.visitor||m,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(t);if(!I.isFunction(i))throw new TypeError("visitor must be a function");function p(l){if(l===null)return"";if(I.isDate(l))return l.toISOString();if(I.isBoolean(l))return l.toString();if(!c&&I.isBlob(l))throw new N("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(l)||I.isTypedArray(l)?c&&typeof Blob=="function"?new Blob([l]):Buffer.from(l):l}function m(l,w,g){let b=l;if(l&&!g&&typeof l=="object"){if(I.endsWith(w,"{}"))w=n?w:w.slice(0,-2),l=JSON.stringify(l);else if(I.isArray(l)&&Oi(l)||(I.isFileList(l)||I.endsWith(w,"[]"))&&(b=I.toArray(l)))return w=Kr(w),b.forEach(function(_,y){!(I.isUndefined(_)||_===null)&&t.append(o===!0?Wr([w],y,s):o===null?w:w+"[]",p(_))}),!1}return Dt(l)?!0:(t.append(Wr(g,w,s),p(l)),!1)}let v=[],C=Object.assign(Si,{defaultVisitor:m,convertValue:p,isVisitable:Dt});function T(l,w){if(!I.isUndefined(l)){if(v.indexOf(l)!==-1)throw Error("Circular reference detected in "+w.join("."));v.push(l),I.forEach(l,function(g,b){(!(I.isUndefined(g)||g===null)&&i.call(t,g,I.isString(b)?b.trim():b,w,C))===!0&&T(g,w?w.concat(b):[b])}),v.pop()}}if(!I.isObject(e))throw new TypeError("data must be an object");return T(e),t}var ut=Pi;function Hr(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Jr(e,t){this._pairs=[],e&&ut(e,this,t)}var Yr=Jr.prototype;Yr.append=function(e,t){this._pairs.push([e,t])},Yr.toString=function(e){let t=e?function(r){return e.call(this,r,Hr)}:Hr;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};var Gr=Jr;function Zi(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xr(e,t,r){if(!t)return e;let n=r&&r.encode||Zi;I.isFunction(r)&&(r={serialize:r});let i=r&&r.serialize,s;if(i?s=i(t,r):s=I.isURLSearchParams(t)?t.toString():new Gr(t,r).toString(n),s){let o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}var ki=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(t){t!==null&&e(t)})}},Qr=ki,en={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ei=typeof URLSearchParams<"u"?URLSearchParams:Gr,Ri=typeof FormData<"u"?FormData:null,Ui=typeof Blob<"u"?Blob:null,ji={isBrowser:!0,classes:{URLSearchParams:Ei,FormData:Ri,Blob:Ui},protocols:["http","https","file","blob","url","data"]},tn={};aa(tn,{hasBrowserEnv:()=>Lt,hasStandardBrowserEnv:()=>Ni,hasStandardBrowserWebWorkerEnv:()=>Di,navigator:()=>Ft,origin:()=>Li});var Lt=typeof window<"u"&&typeof document<"u",Ft=typeof navigator=="object"&&navigator||void 0,Ni=Lt&&(!Ft||["ReactNative","NativeScript","NS"].indexOf(Ft.product)<0),Di=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Li=Lt&&window.location.href||"http://localhost",K={...tn,...ji};function Fi(e,t){return ut(e,new K.classes.URLSearchParams,{visitor:function(r,n,i,s){return K.isNode&&I.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function Mi(e){return I.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function zi(e){let t={},r=Object.keys(e),n,i=r.length,s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function $i(e){function t(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;let c=Number.isFinite(+o),p=s>=r.length;return o=!o&&I.isArray(i)?i.length:o,p?(I.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!c):((!i[o]||!I.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&I.isArray(i[o])&&(i[o]=zi(i[o])),!c)}if(I.isFormData(e)&&I.isFunction(e.entries)){let r={};return I.forEachEntry(e,(n,i)=>{t(Mi(n),i,r,0)}),r}return null}var rn=$i;function Vi(e,t,r){if(I.isString(e))try{return(t||JSON.parse)(e),I.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Mt={transitional:en,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=I.isObject(e);if(i&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return n?JSON.stringify(rn(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e)||I.isReadableStream(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Fi(e,this.formSerializer).toString();if((s=I.isFileList(e))||r.indexOf("multipart/form-data")>-1){let o=this.env&&this.env.FormData;return ut(s?{"files[]":e}:e,o&&new o,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),Vi(e)):e}],transformResponse:[function(e){let t=this.transitional||Mt.transitional,r=t&&t.forcedJSONParsing,n=this.responseType==="json";if(I.isResponse(e)||I.isReadableStream(e))return e;if(e&&I.isString(e)&&(r&&!this.responseType||n)){let i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(s){if(i)throw s.name==="SyntaxError"?N.from(s,N.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:K.classes.FormData,Blob:K.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],e=>{Mt.headers[e]={}});var zt=Mt,Bi=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qi=e=>{let t={},r,n,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||t[r]&&Bi[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},nn=Symbol("internals");function Ze(e){return e&&String(e).trim().toLowerCase()}function dt(e){return e===!1||e==null?e:I.isArray(e)?e.map(dt):String(e)}function Ki(e){let t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}var Wi=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $t(e,t,r,n,i){if(I.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!I.isString(t)){if(I.isString(n))return t.indexOf(n)!==-1;if(I.isRegExp(n))return n.test(t)}}function Hi(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Ji(e,t){let r=I.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}var lt=class{constructor(e){e&&this.set(e)}set(e,t,r){let n=this;function i(o,c,p){let m=Ze(c);if(!m)throw new Error("header name must be a non-empty string");let v=I.findKey(n,m);(!v||n[v]===void 0||p===!0||p===void 0&&n[v]!==!1)&&(n[v||c]=dt(o))}let s=(o,c)=>I.forEach(o,(p,m)=>i(p,m,c));if(I.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(I.isString(e)&&(e=e.trim())&&!Wi(e))s(qi(e),t);else if(I.isObject(e)&&I.isIterable(e)){let o={},c,p;for(let m of e){if(!I.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[p=m[0]]=(c=o[p])?I.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}s(o,t)}else e!=null&&i(t,e,r);return this}get(e,t){if(e=Ze(e),e){let r=I.findKey(this,e);if(r){let n=this[r];if(!t)return n;if(t===!0)return Ki(n);if(I.isFunction(t))return t.call(this,n,r);if(I.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ze(e),e){let r=I.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||$t(this,this[r],r,t)))}return!1}delete(e,t){let r=this,n=!1;function i(s){if(s=Ze(s),s){let o=I.findKey(r,s);o&&(!t||$t(r,r[o],o,t))&&(delete r[o],n=!0)}}return I.isArray(e)?e.forEach(i):i(e),n}clear(e){let t=Object.keys(this),r=t.length,n=!1;for(;r--;){let i=t[r];(!e||$t(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){let t=this,r={};return I.forEach(this,(n,i)=>{let s=I.findKey(r,i);if(s){t[s]=dt(n),delete t[i];return}let o=e?Hi(i):String(i).trim();o!==i&&delete t[i],t[o]=dt(n),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return I.forEach(this,(r,n)=>{r!=null&&r!==!1&&(t[n]=e&&I.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(n=>r.set(n)),r}static accessor(e){let t=(this[nn]=this[nn]={accessors:{}}).accessors,r=this.prototype;function n(i){let s=Ze(i);t[s]||(Ji(r,i),t[s]=!0)}return I.isArray(e)?e.forEach(n):n(e),this}};lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),I.reduceDescriptors(lt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}}),I.freezeMethods(lt);var G=lt;function Vt(e,t){let r=this||zt,n=t||r,i=G.from(n.headers),s=n.data;return I.forEach(e,function(o){s=o.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function an(e){return!!(e&&e.__CANCEL__)}function sn(e,t,r){N.call(this,e??"canceled",N.ERR_CANCELED,t,r),this.name="CanceledError"}I.inherits(sn,N,{__CANCEL__:!0});var ke=sn;function on(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new N("Request failed with status code "+r.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Yi(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Gi(e,t){e=e||10;let r=new Array(e),n=new Array(e),i=0,s=0,o;return t=t!==void 0?t:1e3,function(c){let p=Date.now(),m=n[s];o||(o=p),r[i]=c,n[i]=p;let v=s,C=0;for(;v!==i;)C+=r[v++],v=v%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),p-o<t)return;let T=m&&p-m;return T?Math.round(C*1e3/T):void 0}}var Xi=Gi;function Qi(e,t){let r=0,n=1e3/t,i,s,o=(c,p=Date.now())=>{r=p,i=null,s&&(clearTimeout(s),s=null),e(...c)};return[(...c)=>{let p=Date.now(),m=p-r;m>=n?o(c,p):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},n-m)))},()=>i&&o(i)]}var es=Qi,ct=(e,t,r=3)=>{let n=0,i=Xi(50,250);return es(s=>{let o=s.loaded,c=s.lengthComputable?s.total:void 0,p=o-n,m=i(p),v=o<=c;n=o;let C={loaded:o,total:c,progress:c?o/c:void 0,bytes:p,rate:m||void 0,estimated:m&&c&&v?(c-o)/m:void 0,event:s,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(C)},r)},un=(e,t)=>{let r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},dn=e=>(...t)=>I.asap(()=>e(...t)),ts=K.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,K.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(K.origin),K.navigator&&/(msie|trident)/i.test(K.navigator.userAgent)):()=>!0,rs=K.hasStandardBrowserEnv?{write(e,t,r,n,i,s){let o=[e+"="+encodeURIComponent(t)];I.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),I.isString(n)&&o.push("path="+n),I.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){let t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ns(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function as(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ln(e,t,r){let n=!ns(t);return e&&(n||r==!1)?as(e,t):t}var cn=e=>e instanceof G?{...e}:e;function fe(e,t){t=t||{};let r={};function n(m,v,C,T){return I.isPlainObject(m)&&I.isPlainObject(v)?I.merge.call({caseless:T},m,v):I.isPlainObject(v)?I.merge({},v):I.isArray(v)?v.slice():v}function i(m,v,C,T){if(I.isUndefined(v)){if(!I.isUndefined(m))return n(void 0,m,C,T)}else return n(m,v,C,T)}function s(m,v){if(!I.isUndefined(v))return n(void 0,v)}function o(m,v){if(I.isUndefined(v)){if(!I.isUndefined(m))return n(void 0,m)}else return n(void 0,v)}function c(m,v,C){if(C in t)return n(m,v);if(C in e)return n(void 0,m)}let p={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(m,v,C)=>i(cn(m),cn(v),C,!0)};return I.forEach(Object.keys({...e,...t}),function(m){let v=p[m]||i,C=v(e[m],t[m],m);I.isUndefined(C)&&v!==c||(r[m]=C)}),r}var fn=e=>{let t=fe({},e),{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:c}=t;t.headers=o=G.from(o),t.url=Xr(ln(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let p;if(I.isFormData(r)){if(K.hasStandardBrowserEnv||K.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((p=o.getContentType())!==!1){let[m,...v]=p?p.split(";").map(C=>C.trim()).filter(Boolean):[];o.setContentType([m||"multipart/form-data",...v].join("; "))}}if(K.hasStandardBrowserEnv&&(n&&I.isFunction(n)&&(n=n(t)),n||n!==!1&&ts(t.url))){let m=i&&s&&rs.read(s);m&&o.set(i,m)}return t},is=typeof XMLHttpRequest<"u",ss=is&&function(e){return new Promise(function(t,r){let n=fn(e),i=n.data,s=G.from(n.headers).normalize(),{responseType:o,onUploadProgress:c,onDownloadProgress:p}=n,m,v,C,T,l;function w(){T&&T(),l&&l(),n.cancelToken&&n.cancelToken.unsubscribe(m),n.signal&&n.signal.removeEventListener("abort",m)}let g=new XMLHttpRequest;g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout;function b(){if(!g)return;let y=G.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:y,config:e,request:g};on(function(O){t(O),w()},function(O){r(O),w()},x),g=null}"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(b)},g.onabort=function(){g&&(r(new N("Request aborted",N.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new N("Network Error",N.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let y=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded",x=n.transitional||en;n.timeoutErrorMessage&&(y=n.timeoutErrorMessage),r(new N(y,x.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,e,g)),g=null},i===void 0&&s.setContentType(null),"setRequestHeader"in g&&I.forEach(s.toJSON(),function(y,x){g.setRequestHeader(x,y)}),I.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),o&&o!=="json"&&(g.responseType=n.responseType),p&&([C,l]=ct(p,!0),g.addEventListener("progress",C)),c&&g.upload&&([v,T]=ct(c),g.upload.addEventListener("progress",v),g.upload.addEventListener("loadend",T)),(n.cancelToken||n.signal)&&(m=y=>{g&&(r(!y||y.type?new ke(null,e,g):y),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(m),n.signal&&(n.signal.aborted?m():n.signal.addEventListener("abort",m)));let _=Yi(n.url);if(_&&K.protocols.indexOf(_)===-1){r(new N("Unsupported protocol "+_+":",N.ERR_BAD_REQUEST,e));return}g.send(i||null)})},os=(e,t)=>{let{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i,s=function(m){if(!i){i=!0,c();let v=m instanceof Error?m:this.reason;n.abort(v instanceof N?v:new ke(v instanceof Error?v.message:v))}},o=t&&setTimeout(()=>{o=null,s(new N(`timeout ${t} of ms exceeded`,N.ETIMEDOUT))},t),c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(s):m.removeEventListener("abort",s)}),e=null)};e.forEach(m=>m.addEventListener("abort",s));let{signal:p}=n;return p.unsubscribe=()=>I.asap(c),p}},us=os,ds=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},ls=async function*(e,t){for await(let r of cs(e))yield*ds(r,t)},cs=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}let t=e.getReader();try{for(;;){let{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},pn=(e,t,r,n)=>{let i=ls(e,t),s=0,o,c=p=>{o||(o=!0,n&&n(p))};return new ReadableStream({async pull(p){try{let{done:m,value:v}=await i.next();if(m){c(),p.close();return}let C=v.byteLength;if(r){let T=s+=C;r(T)}p.enqueue(new Uint8Array(v))}catch(m){throw c(m),m}},cancel(p){return c(p),i.return()}},{highWaterMark:2})},ft=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hn=ft&&typeof ReadableStream=="function",fs=ft&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),mn=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ps=hn&&mn(()=>{let e=!1,t=new Request(K.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),vn=64*1024,Bt=hn&&mn(()=>I.isReadableStream(new Response("").body)),pt={stream:Bt&&(e=>e.body)};ft&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!pt[t]&&(pt[t]=I.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new N(`Response type '${t}' is not supported`,N.ERR_NOT_SUPPORT,n)})})})(new Response);var hs=async e=>{if(e==null)return 0;if(I.isBlob(e))return e.size;if(I.isSpecCompliantForm(e))return(await new Request(K.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(I.isArrayBufferView(e)||I.isArrayBuffer(e))return e.byteLength;if(I.isURLSearchParams(e)&&(e=e+""),I.isString(e))return(await fs(e)).byteLength},ms=async(e,t)=>{let r=I.toFiniteNumber(e.getContentLength());return r??hs(t)},vs=ft&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:c,onUploadProgress:p,responseType:m,headers:v,withCredentials:C="same-origin",fetchOptions:T}=fn(e);m=m?(m+"").toLowerCase():"text";let l=us([i,s&&s.toAbortSignal()],o),w,g=l&&l.unsubscribe&&(()=>{l.unsubscribe()}),b;try{if(p&&ps&&r!=="get"&&r!=="head"&&(b=await ms(v,n))!==0){let L=new Request(t,{method:"POST",body:n,duplex:"half"}),D;if(I.isFormData(n)&&(D=L.headers.get("content-type"))&&v.setContentType(D),L.body){let[S,U]=un(b,ct(dn(p)));n=pn(L.body,vn,S,U)}}I.isString(C)||(C=C?"include":"omit");let _="credentials"in Request.prototype;w=new Request(t,{...T,signal:l,method:r.toUpperCase(),headers:v.normalize().toJSON(),body:n,duplex:"half",credentials:_?C:void 0});let y=await fetch(w,T),x=Bt&&(m==="stream"||m==="response");if(Bt&&(c||x&&g)){let L={};["status","statusText","headers"].forEach(F=>{L[F]=y[F]});let D=I.toFiniteNumber(y.headers.get("content-length")),[S,U]=c&&un(D,ct(dn(c),!0))||[];y=new Response(pn(y.body,vn,S,()=>{U&&U(),g&&g()}),L)}m=m||"text";let O=await pt[I.findKey(pt,m)||"text"](y,e);return!x&&g&&g(),await new Promise((L,D)=>{on(L,D,{data:O,headers:G.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:w})})}catch(_){throw g&&g(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,e,w),{cause:_.cause||_}):N.from(_,_&&_.code,e,w)}}),qt={http:Ai,xhr:ss,fetch:vs};I.forEach(qt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});var yn=e=>`- ${e}`,ys=e=>I.isFunction(e)||e===null||e===!1,gn={getAdapter:e=>{e=I.isArray(e)?e:[e];let{length:t}=e,r,n,i={};for(let s=0;s<t;s++){r=e[s];let o;if(n=r,!ys(r)&&(n=qt[(o=String(r)).toLowerCase()],n===void 0))throw new N(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){let s=Object.entries(i).map(([c,p])=>`adapter ${c} `+(p===!1?"is not supported by the environment":"is not available in the build")),o=t?s.length>1?`since :
`+s.map(yn).join(`
`):" "+yn(s[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:qt};function Kt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ke(null,e)}function bn(e){return Kt(e),e.headers=G.from(e.headers),e.data=Vt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gn.getAdapter(e.adapter||zt.adapter)(e).then(function(t){return Kt(e),t.data=Vt.call(e,e.transformResponse,t),t.headers=G.from(t.headers),t},function(t){return an(t)||(Kt(e),t&&t.response&&(t.response.data=Vt.call(e,e.transformResponse,t.response),t.response.headers=G.from(t.response.headers))),Promise.reject(t)})}var _n="1.11.0",ht={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ht[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var wn={};ht.transitional=function(e,t,r){function n(i,s){return"[Axios v"+_n+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,o)=>{if(e===!1)throw new N(n(s," has been removed"+(t?" in "+t:"")),N.ERR_DEPRECATED);return t&&!wn[s]&&(wn[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,s,o):!0}},ht.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function gs(e,t,r){if(typeof e!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),i=n.length;for(;i-- >0;){let s=n[i],o=t[s];if(o){let c=e[s],p=c===void 0||o(c,s,e);if(p!==!0)throw new N("option "+s+" must be "+p,N.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new N("Unknown option "+s,N.ERR_BAD_OPTION)}}var mt={assertOptions:gs,validators:ht},te=mt.validators,vt=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Qr,response:new Qr}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;let i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=fe(this.defaults,t);let{transitional:r,paramsSerializer:n,headers:i}=t;r!==void 0&&mt.assertOptions(r,{silentJSONParsing:te.transitional(te.boolean),forcedJSONParsing:te.transitional(te.boolean),clarifyTimeoutError:te.transitional(te.boolean)},!1),n!=null&&(I.isFunction(n)?t.paramsSerializer={serialize:n}:mt.assertOptions(n,{encode:te.function,serialize:te.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),mt.assertOptions(t,{baseUrl:te.spelling("baseURL"),withXsrfToken:te.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&I.merge(i.common,i[t.method]);i&&I.forEach(["delete","get","head","post","put","patch","common"],l=>{delete i[l]}),t.headers=G.concat(s,i);let o=[],c=!0;this.interceptors.request.forEach(function(l){typeof l.runWhen=="function"&&l.runWhen(t)===!1||(c=c&&l.synchronous,o.unshift(l.fulfilled,l.rejected))});let p=[];this.interceptors.response.forEach(function(l){p.push(l.fulfilled,l.rejected)});let m,v=0,C;if(!c){let l=[bn.bind(this),void 0];for(l.unshift(...o),l.push(...p),C=l.length,m=Promise.resolve(t);v<C;)m=m.then(l[v++],l[v++]);return m}C=o.length;let T=t;for(v=0;v<C;){let l=o[v++],w=o[v++];try{T=l(T)}catch(g){w.call(this,g);break}}try{m=bn.call(this,T)}catch(l){return Promise.reject(l)}for(v=0,C=p.length;v<C;)m=m.then(p[v++],p[v++]);return m}getUri(e){e=fe(this.defaults,e);let t=ln(e.baseURL,e.url,e.allowAbsoluteUrls);return Xr(t,e.params,e.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(e){vt.prototype[e]=function(t,r){return this.request(fe(r||{},{method:e,url:t,data:(r||{}).data}))}}),I.forEach(["post","put","patch"],function(e){function t(r){return function(n,i,s){return this.request(fe(s||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}vt.prototype[e]=t(),vt.prototype[e+"Form"]=t(!0)});var yt=vt,bs=class Qn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});let n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s,o=new Promise(c=>{n.subscribe(c),s=c}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(i,s,o){n.reason||(n.reason=new ke(i,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Qn(function(r){t=r}),cancel:t}}},_s=bs;function ws(e){return function(t){return e.apply(null,t)}}function Cs(e){return I.isObject(e)&&e.isAxiosError===!0}var Wt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wt).forEach(([e,t])=>{Wt[t]=e});var Ts=Wt;function Cn(e){let t=new yt(e),r=jr(yt.prototype.request,t);return I.extend(r,yt.prototype,t,{allOwnKeys:!0}),I.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return Cn(fe(e,n))},r}var z=Cn(zt);z.Axios=yt,z.CanceledError=ke,z.CancelToken=_s,z.isCancel=an,z.VERSION=_n,z.toFormData=ut,z.AxiosError=N,z.Cancel=z.CanceledError,z.all=function(e){return Promise.all(e)},z.spread=ws,z.isAxiosError=Cs,z.mergeConfig=fe,z.AxiosHeaders=G,z.formToJSON=e=>rn(I.isHTMLForm(e)?new FormData(e):e),z.getAdapter=gn.getAdapter,z.HttpStatusCode=Ts,z.default=z;var Tn=z,{Axios:zo,AxiosError:$o,CanceledError:Vo,isCancel:Bo,CancelToken:qo,VERSION:Ko,all:Wo,Cancel:Ho,isAxiosError:Jo,spread:Yo,toFormData:Go,AxiosHeaders:Xo,HttpStatusCode:Qo,formToJSON:eu,getAdapter:tu,mergeConfig:ru}=Tn,Is=Xe(Qe()),xs=class{constructor(e){this.API_VERSION="2022-03-01-preview";let{identifier:t,host:r}=e;this.baseURL=new URL(`/copilotstudio/prebuilt/authenticated/bots/${t}`,r),this.baseURL.searchParams.append("api-version",this.API_VERSION)}getConversationUrl(e){let t=new URL(this.baseURL.href);return t.pathname=`${t.pathname}/conversations`,e&&(t.pathname=`${t.pathname}/${e}`),t.href}},As=class{constructor(e){this.API_VERSION="2022-03-01-preview";let{schema:t,host:r}=e;this.baseURL=new URL(`/copilotstudio/dataverse-backed/authenticated/bots/${t}`,r),this.baseURL.searchParams.append("api-version",this.API_VERSION)}getConversationUrl(e){let t=new URL(this.baseURL.href);return t.pathname=`${t.pathname}/conversations`,e&&(t.pathname=`${t.pathname}/${e}`),t.href}},be=(0,Is.debug)("copilot-studio:power-platform");function Ht(e,t){var r,n,i,s,o,c;if((r=e.directConnectUrl)!=null&&r.trim()){if(be.debug(`Using direct connection: ${e.directConnectUrl}`),!Ee(e.directConnectUrl))throw new Error("directConnectUrl must be a valid URL");return e.directConnectUrl.toLowerCase().includes("tenants/00000000-0000-0000-0000-000000000000")?(be.debug(`Direct connection cannot be used, forcing default settings flow. Tenant ID is missing in the URL: ${e.directConnectUrl}`),Ht({...e,directConnectUrl:""},t)):Ss(e.directConnectUrl,t).href}let p=(n=e.cloud)!=null?n:"Prod",m=(i=e.copilotAgentType)!=null?i:"Published";if(be.debug(`Using cloud setting: ${p}`),be.debug(`Using agent type: ${m}`),!((s=e.environmentId)!=null&&s.trim()))throw new Error("EnvironmentId must be provided");if(!((o=e.agentIdentifier)!=null&&o.trim()))throw new Error("AgentIdentifier must be provided");if(p==="Other")if((c=e.customPowerPlatformCloud)!=null&&c.trim())if(Ee(e.customPowerPlatformCloud))be.debug(`Using custom Power Platform cloud: ${e.customPowerPlatformCloud}`);else throw new Error("customPowerPlatformCloud must be a valid URL");else throw new Error("customPowerPlatformCloud must be provided when PowerPlatformCloud is Other");let v=Ps(p,e.environmentId,e.customPowerPlatformCloud),C={Published:()=>new As({host:v,schema:e.agentIdentifier}),Prebuilt:()=>new xs({host:v,identifier:e.agentIdentifier})}[m]().getConversationUrl(t);return be.debug(`Generated Copilot Studio connection URL: ${C}`),C}function Os(e,t="Unknown",r="",n=""){var i,s;if(!n&&!(e!=null&&e.directConnectUrl)){if(t==="Other"&&!r)throw new Error("cloudBaseAddress must be provided when PowerPlatformCloudCategory is Other");if(!e&&t==="Unknown")throw new Error("Either settings or cloud must be provided");if(e&&e.cloud&&e.cloud!=="Unknown"&&(t=e.cloud),t==="Other")if(r&&Ee(r))t="Other";else if(e!=null&&e.customPowerPlatformCloud&&Ee(e.customPowerPlatformCloud))t="Other",r=e.customPowerPlatformCloud;else throw new Error("Either CustomPowerPlatformCloud or cloudBaseAddress must be provided when PowerPlatformCloudCategory is Other");return r!=null||(r="api.unknown.powerplatform.com"),`https://${gt(t,r)}/.default`}else if(n||(n=(i=e?.directConnectUrl)!=null?i:""),n&&Ee(n)){if(In(new URL(n))==="Unknown"){let o=(s=e?.cloud)!=null?s:t;if(o==="Other"||o==="Unknown")throw new Error("Unable to resolve the PowerPlatform Cloud from DirectConnectUrl. The Token Audience resolver requires a specific PowerPlatformCloudCategory.");if(o!=="Unknown")return`https://${gt(o,"")}/.default`;throw new Error("Unable to resolve the PowerPlatform Cloud from DirectConnectUrl. The Token Audience resolver requires a specific PowerPlatformCloudCategory.")}return`https://${gt(In(new URL(n)),"")}/.default`}else throw new Error("DirectConnectUrl must be provided when DirectConnectUrl is set")}function Ee(e){try{let t=e.startsWith("http")?e:`https://${e}`;return!!new URL(t)}catch{return!1}}function Ss(e,t){let r=new URL(e);return r.searchParams.has("api-version")||r.searchParams.append("api-version","2022-03-01-preview"),r.pathname.endsWith("/")&&(r.pathname=r.pathname.slice(0,-1)),r.pathname.includes("/conversations")&&(r.pathname=r.pathname.substring(0,r.pathname.indexOf("/conversations"))),r.pathname=`${r.pathname}/conversations`,t&&(r.pathname=`${r.pathname}/${t}`),r}function Ps(e,t,r){if(e==="Other"&&(!r||!r.trim()))throw new Error("cloudBaseAddress must be provided when PowerPlatformCloud is Other");r=r??"api.unknown.powerplatform.com";let n=t.toLowerCase().replaceAll("-",""),i=Zs(e),s=n.substring(0,n.length-i),o=n.substring(n.length-i);return new URL(`https://${s}.${o}.environment.${gt(e,r)}`)}function gt(e,t){switch(e){case"Local":return"api.powerplatform.localhost";case"Exp":return"api.exp.powerplatform.com";case"Dev":return"api.dev.powerplatform.com";case"Prv":return"api.prv.powerplatform.com";case"Test":return"api.test.powerplatform.com";case"Preprod":return"api.preprod.powerplatform.com";case"FirstRelease":case"Prod":return"api.powerplatform.com";case"GovFR":return"api.gov.powerplatform.microsoft.us";case"Gov":return"api.gov.powerplatform.microsoft.us";case"High":return"api.high.powerplatform.microsoft.us";case"DoD":return"api.appsplatform.us";case"Mooncake":return"api.powerplatform.partner.microsoftonline.cn";case"Ex":return"api.powerplatform.eaglex.ic.gov";case"Rx":return"api.powerplatform.microsoft.scloud";case"Other":return t;default:throw new Error(`Invalid cluster category value: ${e}`)}}function Zs(e){switch(e){case"FirstRelease":case"Prod":return 2;default:return 1}}function In(e){switch(e.host.toLowerCase()){case"api.powerplatform.localhost":return"Local";case"api.exp.powerplatform.com":return"Exp";case"api.dev.powerplatform.com":return"Dev";case"api.prv.powerplatform.com":return"Prv";case"api.test.powerplatform.com":return"Test";case"api.preprod.powerplatform.com":return"Preprod";case"api.powerplatform.com":return"Prod";case"api.gov.powerplatform.microsoft.us":return"GovFR";case"api.high.powerplatform.microsoft.us":return"High";case"api.appsplatform.us":return"DoD";case"api.powerplatform.partner.microsoftonline.cn":return"Mooncake";default:return"Unknown"}}var Jt=Xe(La()),ks=class{constructor(e){this.activity=e}},Es=Xe(Qe()),Rs="1.0.15",Yt={},H=(0,Es.debug)("copilot-studio:client"),bt=class Ge{constructor(t,r){this.conversationId="",this.settings=t,this.client=Tn.create(),this.client.defaults.headers.common.Authorization=`Bearer ${r}`,this.client.defaults.headers.common["User-Agent"]=Ge.getProductInfo()}async postRequestAsync(t){var r,n,i,s;let o=[];H.debug(`>>> SEND TO ${t.url}`);let c=await this.client(t);if(this.settings.useExperimentalEndpoint&&!((r=this.settings.directConnectUrl)!=null&&r.trim())){let l=(n=c.headers)==null?void 0:n[Ge.islandExperimentalUrlHeaderKey];l&&(this.settings.directConnectUrl=l,H.debug(`Island Experimental URL: ${l}`))}this.conversationId=(s=(i=c.headers)==null?void 0:i[Ge.conversationIdHeaderKey])!=null?s:"",this.conversationId&&H.debug(`Conversation ID: ${this.conversationId}`);let p={...c.headers};delete p.Authorization,delete p[Ge.conversationIdHeaderKey],H.debug("Headers received:",p);let m=c.data.pipeThrough(new TextDecoderStream).getReader(),v="",C=[],T=async({done:l,value:w})=>l?(H.debug("Stream complete"),v+=w,C.push(v),C):(H.info("Agent is typing ..."),v+=w,await T(await m.read()));return(await m.read().then(T)).forEach(l=>{l.toString().split(`
`).filter(w=>w.substring(0,4)==="data"&&w!=="data: end\r").forEach(w=>{var g,b;try{let _=Jt.Activity.fromJson(w.substring(5,w.length));_.type===Jt.ActivityTypes.Message?(o.push(_),this.conversationId.trim()||(this.conversationId=(b=(g=_.conversation)==null?void 0:g.id)!=null?b:"",H.debug(`Conversation ID: ${this.conversationId}`))):H.debug(`Activity type: ${_.type}`)}catch(_){throw H.error("Error: ",_),_}})}),o}static getProductInfo(){let t=`CopilotStudioClient.agents-sdk-js/${Rs}`,r;return typeof window<"u"&&window.navigator?r=`${t} ${navigator.userAgent}`:r=`${t} nodejs/${process.version} ${Yt.platform()}-${Yt.arch()}/${Yt.release()}`,H.debug(`User-Agent: ${r}`),r}async startConversationAsync(t=!0){var r;let n={method:"post",url:Ht(this.settings),headers:{Accept:"text/event-stream","Content-Type":"application/json"},data:{emitStartConversationEvent:t},responseType:"stream",adapter:"fetch"};H.info("Starting conversation ...");let i=await this.postRequestAsync(n),s=i[0];return H.info(`Conversation '${(r=s.conversation)==null?void 0:r.id}' started. Received ${i.length} activities.`,i),s}async askQuestionAsync(t,r=this.conversationId){let n={type:"message",text:t,conversation:{id:r}},i=Jt.Activity.fromObject(n);return this.sendActivity(i)}async sendActivity(t,r=this.conversationId){var n,i;let s=(i=(n=t.conversation)==null?void 0:n.id)!=null?i:r,o=Ht(this.settings,s),c=new ks(t),p={method:"post",url:o,headers:{Accept:"text/event-stream","Content-Type":"application/json"},data:c,responseType:"stream",adapter:"fetch"};H.info("Sending activity...",t);let m=await this.postRequestAsync(p);return H.info(`Received ${m.length} activities.`,m),m}};bt.conversationIdHeaderKey="x-ms-conversationid",bt.islandExperimentalUrlHeaderKey="x-ms-d2e-experimental",bt.scopeFromSettings=Os;var Us=bt,B=[];for(let e=0;e<256;++e)B.push((e+256).toString(16).slice(1));function js(e,t=0){return(B[e[t+0]]+B[e[t+1]]+B[e[t+2]]+B[e[t+3]]+"-"+B[e[t+4]]+B[e[t+5]]+"-"+B[e[t+6]]+B[e[t+7]]+"-"+B[e[t+8]]+B[e[t+9]]+"-"+B[e[t+10]]+B[e[t+11]]+B[e[t+12]]+B[e[t+13]]+B[e[t+14]]+B[e[t+15]]).toLowerCase()}var Gt,Ns=new Uint8Array(16);function Ds(){if(!Gt){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gt=crypto.getRandomValues.bind(crypto)}return Gt(Ns)}var Ls=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xn={randomUUID:Ls};function Fs(e,t,r){var n,i,s;if(xn.randomUUID&&!t&&!e)return xn.randomUUID();e=e||{};let o=(s=(i=e.random)!=null?i:(n=e.rng)==null?void 0:n.call(e))!=null?s:Ds();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let c=0;c<16;++c)t[r+c]=o[c];return t}return js(o)}var Ms=Fs,Xt=function(e,t){return Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Xt(e,t)};function Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Qt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function er(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function tr(e,t,r){if(arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function ne(e){return typeof e=="function"}function An(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var rr=An(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function nr(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var _t=(function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var c=Qt(o),p=c.next();!p.done;p=c.next()){var m=p.value;m.remove(this)}}catch(g){t={error:g}}finally{try{p&&!p.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}else o.remove(this);var v=this.initialTeardown;if(ne(v))try{v()}catch(g){s=g instanceof rr?g.errors:[g]}var C=this._finalizers;if(C){this._finalizers=null;try{for(var T=Qt(C),l=T.next();!l.done;l=T.next()){var w=l.value;try{Pn(w)}catch(g){s=s??[],g instanceof rr?s=tr(tr([],er(s)),er(g.errors)):s.push(g)}}}catch(g){n={error:g}}finally{try{l&&!l.done&&(i=T.return)&&i.call(T)}finally{if(n)throw n.error}}}if(s)throw new rr(s)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Pn(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&nr(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&nr(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=(function(){var t=new e;return t.closed=!0,t})(),e})(),On=_t.EMPTY;function Sn(e){return e instanceof _t||e&&"closed"in e&&ne(e.remove)&&ne(e.add)&&ne(e.unsubscribe)}function Pn(e){ne(e)?e():e.unsubscribe()}var zs={Promise:void 0},$s={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,tr([e,t],er(r)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Vs(e){$s.setTimeout(function(){throw e})}function Zn(){}function wt(e){e()}var kn=(function(e){Re(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Sn(r)&&r.add(n)):n.destination=Ks,n}return t.create=function(r,n,i){return new ar(r,n,i)},t.prototype.next=function(r){this.isStopped?void 0:this._next(r)},t.prototype.error=function(r){this.isStopped?void 0:(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped?void 0:(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t})(_t),Bs=(function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){Ct(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){Ct(n)}else Ct(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){Ct(r)}},e})(),ar=(function(e){Re(t,e);function t(r,n,i){var s=e.call(this)||this,o;return ne(r)||!r?o={next:r??void 0,error:n??void 0,complete:i??void 0}:o=r,s.destination=new Bs(o),s}return t})(kn);function Ct(e){Vs(e)}function qs(e){throw e}function nu(e,t){}var Ks={closed:!0,next:Zn,error:qs,complete:Zn},Ws=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function Hs(e){return e}function Js(e){return e.length===0?Hs:e.length===1?e[0]:function(t){return e.reduce(function(r,n){return n(r)},t)}}var ir=(function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,s=Gs(t)?t:new ar(t,r,n);return wt(function(){var o=i,c=o.operator,p=o.source;s.add(c?c.call(s,p):p?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=En(r),new r(function(i,s){var o=new ar({next:function(c){try{t(c)}catch(p){s(p),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[Ws]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Js(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=En(t),new t(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},e.create=function(t){return new e(t)},e})();function En(e){var t;return(t=e??zs.Promise)!==null&&t!==void 0?t:Promise}function Ys(e){return e&&ne(e.next)&&ne(e.error)&&ne(e.complete)}function Gs(e){return e&&e instanceof kn||Ys(e)&&Sn(e)}var Xs=An(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Rn=(function(e){Re(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Un(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new Xs},t.prototype.next=function(r){var n=this;wt(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=Qt(n.currentObservers),c=o.next();!c.done;c=o.next()){var p=c.value;p.next(r)}}catch(m){i={error:m}}finally{try{c&&!c.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;wt(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;wt(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,s=i.hasError,o=i.isStopped,c=i.observers;return s||o?On:(this.currentObservers=null,c.push(r),new _t(function(){n.currentObservers=null,nr(c,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?r.error(s):o&&r.complete()},t.prototype.asObservable=function(){var r=new ir;return r.source=this,r},t.create=function(r,n){return new Un(r,n)},t})(ir),Un=(function(e){Re(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:On},t})(Rn),Qs=(function(e){Re(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,s=r._value;if(n)throw i;return this._throwIfClosed(),s},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t})(Rn),eo=Xe(Qe()),oe=(0,eo.debug)("copilot-studio:webchat"),to=class{static createConnection(e,t){oe.info("--> Creating connection between Copilot Studio and WebChat ...");let r=0,n,i,s=new Qs(0),o=jn(async m=>{if(n=m,s.value<2){s.next(2);return}oe.debug("--> Connection established."),p();let v=await e.startConversationAsync();i=v.conversation,r=0,c(v)}),c=m=>{let v={...m,timestamp:new Date().toISOString(),channelData:{...m.channelData,"webchat:sequence-id":r++}};oe.debug(`Notify '${v.type}' activity to WebChat:`,v),n?.next(v)},p=()=>{if(!(t!=null&&t.showTyping))return;let m=i?{id:i.id,name:i.name}:{id:"agent",name:"Agent"};c({type:"typing",from:m})};return{connectionStatus$:s,activity$:o,postActivity(m){if(oe.info("--> Preparing to send activity to Copilot Studio ..."),!m)throw new Error("Activity cannot be null.");if(!n)throw new Error("Activity subscriber is not initialized.");return jn(async v=>{try{let C=Ms();oe.info("--> Sending activity to Copilot Studio ..."),c({...m,id:C}),p();let T=await e.sendActivity(m);for(let l of T)c(l);v.next(C),v.complete(),oe.info("--> Activity received correctly from Copilot Studio.")}catch(C){oe.error("Error sending Activity to Copilot Studio:",C),v.error(C)}})},end(){oe.info("--> Ending connection between Copilot Studio and WebChat ..."),s.complete(),n&&(n.complete(),n=void 0)}}}};function jn(e){return new ir(t=>{Promise.resolve(e(t)).catch(r=>t.error(r))})}async function Nn({element:e,botId:t,tenantId:r,webChatOptions:n={},styleOptions:i={}}){if(!e)throw new Error('[CCWidget] "element" is required');if(!t||!r)throw new Error('[CCWidget] "botId" and "tenantId" are required. Get them from Copilot Studio: Settings  Advanced  Metadata.');if(!window.WebChat||typeof window.WebChat.renderWebChat!="function")throw new Error('[CCWidget] Bot Framework Web Chat script not loaded. Add <script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"><\/script> before this widget.');const s=new Us({botId:t,tenantId:r}),o=to.createConnection(s,{showTyping:!0,...n});window.WebChat.renderWebChat({directLine:o,styleOptions:{hideUploadButton:!0,bubbleRadius:12,bubbleBorderRadius:12,bubbleBackground:"#ffffff",bubbleFromUserBackground:"#1154F7",bubbleFromUserTextColor:"#ffffff",primaryFont:"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",...i}},e)}typeof window<"u"&&(window.CCWidget=window.CCWidget||{},window.CCWidget.init=Nn),ve.init=Nn,Object.defineProperty(ve,Symbol.toStringTag,{value:"Module"})}));
